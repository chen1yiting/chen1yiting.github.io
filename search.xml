<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>PyTorch-EnvSetup&amp;BasicConcept</title>
    <url>/2021/09/26/PyTorch-EnvSetup-BasicConcept/</url>
    <content><![CDATA[<h2 id="ä¸€-PyTorchåŸºç¡€æ¦‚å¿µ"><a href="#ä¸€-PyTorchåŸºç¡€æ¦‚å¿µ" class="headerlink" title="ä¸€. PyTorchåŸºç¡€æ¦‚å¿µ"></a>ä¸€. PyTorchåŸºç¡€æ¦‚å¿µ</h2><h3 id="A-ç¯å¢ƒæ­å»º"><a href="#A-ç¯å¢ƒæ­å»º" class="headerlink" title="A. ç¯å¢ƒæ­å»º"></a>A. ç¯å¢ƒæ­å»º</h3><h4 id="1-ç³»ç»Ÿæ˜¾å¡é©±åŠ¨ï¼ŒCUDAå’Œcudnné…ç½®"><a href="#1-ç³»ç»Ÿæ˜¾å¡é©±åŠ¨ï¼ŒCUDAå’Œcudnné…ç½®" class="headerlink" title="1. ç³»ç»Ÿæ˜¾å¡é©±åŠ¨ï¼ŒCUDAå’Œcudnné…ç½®"></a>1. ç³»ç»Ÿæ˜¾å¡é©±åŠ¨ï¼ŒCUDAå’Œcudnné…ç½®</h4><p>æœ¬æœºé…ç½®ï¼šWin10ï¼ŒGeforce 3070 140w 8GBæ˜¾å­˜ï¼ŒIntel 11th i7 å…«æ ¸åå…­çº¿ç¨‹</p>
<p>å½“å‰Nvidiaæ˜¾å¡é©±åŠ¨ç‰ˆæœ¬462.62ï¼Œæœ€é«˜æ”¯æŒcudaç‰ˆæœ¬11.2ï¼ˆå®‰è£…cudaç‰ˆæœ¬11.1ï¼‰</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921151203907.png" alt="image-20210921151203907"></p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921151508628.png" alt="image-20210921151508628"></p>
<p>æœ¬æœºç›®å‰å®‰è£…CUDAç‰ˆæœ¬11.1ï¼Œå¯é€šè¿‡nvcc -VæŸ¥çœ‹</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921152447031.png" alt="image-20210921152447031"></p>
<p>å¯¹åº”cudnnç‰ˆæœ¬ä¸º8.1.1</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921155417638.png" alt="image-20210921155417638"></p>
<p>é€šè¿‡è¿è¡ŒCUDAè‡ªå¸¦çš„deviceQuery.exeå¯çŸ¥ï¼Œ</p>
<p>å½“å‰cuda driver versionä¸º11.2ï¼Œå½“å‰cuda runtime versionä¸º11.1ã€‚ä¸¤è€…å…è®¸ä¸ä¸€è‡´ï¼Œä½†æ˜¯runtime versionå¿…é¡» &lt;= driver version</p>
<h4 id="2-PyTorchå®‰è£…"><a href="#2-PyTorchå®‰è£…" class="headerlink" title="2. PyTorchå®‰è£…"></a>2. PyTorchå®‰è£…</h4><p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921155822943.png" alt="image-20210921155822943"></p>
<p>CUDAç‰ˆæœ¬åº”è¯¥ä¸runtime versionç›¸å¯¹åº”ã€‚</p>
<p>å¯ä»¥ä¸‹è½½å¯¹åº”çš„torchï¼Œtorchvisionå’Œtorchaudioæ‰‹åŠ¨å®‰è£…ï¼š</p>
<p><a href="https://download.pytorch.org/whl/torch_stable.html">https://download.pytorch.org/whl/torch_stable.html</a></p>
<p>ç›´æ¥åˆ°conda ç¯å¢ƒä¸‹è¿è¡Œè¾£ä¸ªcommand/æˆ–è€…pip install å„ä¸ª.whlæ–‡ä»¶ã€‚</p>
<h3 id="B-å¼ é‡ç®€ä»‹ä¸åˆ›å»º"><a href="#B-å¼ é‡ç®€ä»‹ä¸åˆ›å»º" class="headerlink" title="B. å¼ é‡ç®€ä»‹ä¸åˆ›å»º"></a>B. å¼ é‡ç®€ä»‹ä¸åˆ›å»º</h3><h4 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h4><p>å¼ é‡<strong>tensor</strong>å°±æ˜¯<strong>å¤šç»´æ•°ç»„</strong>ï¼Œæ˜¯æ ‡é‡ã€å‘é‡ã€çŸ©é˜µçš„é«˜ç»´æ‹“å±•ã€‚å…·å¤‡ä»¥ä¸‹å±æ€§ã€‚</p>
<ul>
<li>å·ç§¯ä¹‹ç±»çš„å¤„ç†ä¹‹åï¼Œæ•°æ®ç±»å‹é»˜è®¤ä¸º32-bit floating point, torch.float/float32 ï¼›</li>
<li>å›¾åƒçš„æ ‡ç­¾åˆ™é»˜è®¤ä¸º64-bit integer (signed) torch.int/torch.int64</li>
</ul>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921163051863.png" alt="image-20210921163051863"></p>
<h4 id="1-ç›´æ¥åˆ›å»º"><a href="#1-ç›´æ¥åˆ›å»º" class="headerlink" title="1. ç›´æ¥åˆ›å»º"></a>1. ç›´æ¥åˆ›å»º</h4><h5 id="torch-tensor"><a href="#torch-tensor" class="headerlink" title="torch.tensor()"></a>torch.tensor()</h5><p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921163600998.png" alt="image-20210921163600998"></p>
<ul>
<li>dataï¼šæ•°æ®ï¼Œå¯ä»¥æ˜¯listï¼Œnumpy</li>
<li>dtypeï¼šæ•°æ®ç±»å‹ï¼Œé»˜è®¤ä¸dataçš„ä¸€è‡´</li>
<li>deviceï¼šæ‰€åœ¨è®¾å¤‡ï¼Œcuda/cpu</li>
<li>requires_gradï¼šæ˜¯å¦éœ€è¦æ¢¯åº¦</li>
<li>pin_memoryï¼šæ˜¯å¦å­˜äºé”é¡µå†…å­˜ï¼ˆç›®å‰ä¸æ‡‚ä½œç”¨ï¼Œé»˜è®¤ä¸ºfalseå³å¯ï¼‰</li>
</ul>
<h5 id="torch-from-numpy"><a href="#torch-from-numpy" class="headerlink" title="torch.from_numpy()"></a>torch.from_numpy()</h5><p>ä»ndarrayåˆ›å»º</p>
<p><em><strong><u><code>torch.from_numpy(ndarray)</code></u></strong></em></p>
<p>ä»numpyåˆ›å»ºtensorï¼Œ<strong>æ³¨æ„ï¼šä¸¤è€…ä¹‹é—´å…±äº«å†…å­˜ï¼Œæ”¹åŠ¨å…¶ä¸­ä¸€ä¸ªå¦ä¸€ä¸ªä¹Ÿä¼šè¢«æ›´æ”¹ã€‚</strong></p>
<h4 id="2-ä¾æ®æ•°å€¼åˆ›å»º"><a href="#2-ä¾æ®æ•°å€¼åˆ›å»º" class="headerlink" title="2. ä¾æ®æ•°å€¼åˆ›å»º"></a>2. ä¾æ®æ•°å€¼åˆ›å»º</h4><h5 id="torch-xxx-like-xxx"><a href="#torch-xxx-like-xxx" class="headerlink" title="torch.xxx_like()/xxx()"></a>torch.xxx_like()/xxx()</h5><p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921164613808.png" alt="image-20210921164613808"></p>
<ul>
<li>out: è¾“å‡ºçš„å¼ é‡ï¼ˆç»™ç”Ÿæˆçš„æ•°æ®æ‰“ä¸Šæ–°æ ‡ç­¾ï¼‰</li>
<li>layout: å†…å­˜ä¸­çš„å¸ƒå±€å½¢å¼ï¼Œæœ‰strided, sparse_cooç­‰ï¼ˆç›®å‰ä¸æ‡‚ä½œç”¨ï¼Œä¸è¿‡é»˜è®¤stridedå°±å¥½ï¼‰</li>
</ul>
<p>æ ¹æ®inputå½¢çŠ¶åˆ›å»ºå…¨é›¶æˆ–å…¨ä¸€å¼ é‡</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921164936568.png" alt="image-20210921164936568"></p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921165012519.png" alt="image-20210921165012519"></p>
<p><em><strong><u>torch.full( )</u><em><strong>å’Œ</strong></em><u>torch.full_like( )</u></strong></em></p>
<p>ä¾æ®inputå½¢çŠ¶åˆ›å»ºå…¨ï¼ˆfill_valueï¼‰å€¼çš„å‘é‡</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921165151658.png" alt="image-20210921165151658"></p>
<ul>
<li>sizeï¼šå¼ é‡çš„å½¢çŠ¶ï¼Œå¦‚ï¼ˆ3ï¼Œ3ï¼‰</li>
<li>fill_valueï¼šå¼ é‡çš„å€¼</li>
</ul>
<h5 id="torch-arange"><a href="#torch-arange" class="headerlink" title="torch.arange( )"></a>torch.arange( )</h5><p>åˆ›å»ºç­‰å·®çš„1ç»´å¼ é‡ï¼Œæ•°å€¼åŒºé—´ä¸º[start, end)</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921165611232.png" alt="image-20210921165611232"></p>
<ul>
<li>start: åˆå§‹æ•°å€¼</li>
<li>end: ç»“æŸæ•°å€¼</li>
<li>stepï¼šæ•°åˆ—å…¬å·®</li>
</ul>
<h5 id="torch-linspace"><a href="#torch-linspace" class="headerlink" title="torch.linspace( )"></a>torch.linspace( )</h5><p>åˆ›å»ºå‡åˆ†çš„1ç»´å¼ é‡ï¼Œæ•°å€¼åŒºé—´[start, end]</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921165758777.png" alt="image-20210921165758777"></p>
<ul>
<li>steps: æ•°åˆ—é•¿åº¦</li>
</ul>
<h5 id="torch-logspace"><a href="#torch-logspace" class="headerlink" title="torch.logspace( )"></a>torch.logspace( )</h5><p>åˆ›å»ºå¯¹æ•°å‡åˆ†çš„ä¸€ç»´å¼ é‡ï¼Œé•¿åº¦ä¸º<em>steps</em>ï¼Œåº•ä¸º<em>base</em>ï¼ˆé»˜è®¤ä¸º10ï¼‰</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921170039498.png" alt="image-20210921170039498"></p>
<h5 id="torch-eyes"><a href="#torch-eyes" class="headerlink" title="torch.eyes( )"></a>torch.eyes( )</h5><p>åˆ›å»ºå•ä½å¯¹è§’çŸ©é˜µï¼ˆ2ç»´ï¼‰ï¼Œé»˜è®¤ä¸ºæ–¹é˜µï¼Œnè¡Œæ•°ï¼ˆæ–¹é˜µåªéœ€è®¾ç½®è¡Œæ•°ï¼‰ï¼Œmåˆ—æ•°</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921170217035.png" alt="image-20210921170217035"></p>
<h4 id="3-ä¾æ¦‚ç‡åˆ†å¸ƒåˆ›å»º"><a href="#3-ä¾æ¦‚ç‡åˆ†å¸ƒåˆ›å»º" class="headerlink" title="3.ä¾æ¦‚ç‡åˆ†å¸ƒåˆ›å»º"></a>3.ä¾æ¦‚ç‡åˆ†å¸ƒåˆ›å»º</h4><h5 id="torch-normal"><a href="#torch-normal" class="headerlink" title="torch.normal( )"></a>torch.normal( )</h5><p>ç”Ÿæˆæ­£æ€åˆ†å¸ƒï¼ˆGaussianï¼‰</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921170751238.png" alt="image-20210921170751238"></p>
<ul>
<li><p>meanï¼šå‡å€¼</p>
</li>
<li><p>stdï¼šæ ‡å‡†å·®</p>
</li>
<li><p>å››ç§æ¨¡å¼ï¼š</p>
<ul>
<li><p>meanä¸º<strong>æ ‡</strong>é‡ï¼Œstdä¸º<strong>æ ‡</strong>é‡ï¼Œä¾‹ï¼štorch.normal(0., 1., size=(4, ))ï¼›</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921171403037.png" alt="image-20210921171403037"></p>
</li>
<li><p>meanä¸º<strong>æ ‡</strong>é‡ï¼Œstdä¸ºå¼ é‡, åŒä¸‹ï¼Œ</p>
</li>
<li><p>meanä¸ºå¼ é‡ï¼Œstdä¸º<strong>æ ‡</strong>é‡, ä¾‹å¦‚mean = torch.arrange(1, 5, dtype=torch.float), std = 1</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921171600585.png" alt="image-20210921171600585"></p>
</li>
<li><p>meanä¸ºå¼ é‡ï¼Œstdä¸ºå¼ é‡,ä¾‹: mean = torch.arrange(1, 5, dypte=torch.float) , std = torch.arrange(1, 5, dypte=torch.float) <img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921171237469.png" alt="image-20210921171237469"></p>
</li>
</ul>
</li>
</ul>
<h5 id="torch-randn-randn-like"><a href="#torch-randn-randn-like" class="headerlink" title="torch.randn()/randn_like()"></a>torch.randn()/randn_like()</h5><p>ç”Ÿæˆ<strong>æ ‡å‡†æ­£æ€åˆ†å¸ƒ</strong></p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921171733876.png" alt="image-20210921171733876"></p>
<ul>
<li>sizeï¼šå¼ é‡çš„å½¢çŠ¶</li>
</ul>
<h5 id="torch-rand-rand-like"><a href="#torch-rand-rand-like" class="headerlink" title="torch.rand()/rand_like()"></a>torch.rand()/rand_like()</h5><p>åœ¨åŒºé—´**[0,1)**ä¸Šï¼Œç”Ÿæˆ**å‡åŒ€åˆ†å¸ƒ**<img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921171938510.png" alt="image-20210921171938510"></p>
<h5 id="torch-randint-randint-like"><a href="#torch-randint-randint-like" class="headerlink" title="torch.randint()/randint_like()"></a>torch.randint()/randint_like()</h5><p>åœ¨åŒºé—´[low, high)ç”Ÿæˆ<strong>æ•´æ•°å‡åŒ€åˆ†å¸ƒ</strong></p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921172147889.png" alt="image-20210921172147889"></p>
<h5 id="torch-randperm"><a href="#torch-randperm" class="headerlink" title="torch.randperm()"></a>torch.randperm()</h5><p>ç”Ÿæˆä»0åˆ°n-1çš„éšæœºæ’åˆ—</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921172235710.png" alt="image-20210921172235710"></p>
<h5 id="torch-bernoulli"><a href="#torch-bernoulli" class="headerlink" title="torch.bernoulli()"></a>torch.bernoulli()</h5><p>ä»¥inputä¸ºæ¦‚ç‡ï¼Œç”Ÿæˆä¼¯åŠªåˆ©åˆ†å¸ƒï¼ˆ0-1åˆ†å¸ƒï¼Œä¸¤ç‚¹åˆ†å¸ƒï¼‰ï¼Œinputä¸ºæ¦‚ç‡å€¼</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921172334929.png" alt="image-20210921172334929"></p>
<h3 id="C-å¼ é‡çš„æ“ä½œ"><a href="#C-å¼ é‡çš„æ“ä½œ" class="headerlink" title="C. å¼ é‡çš„æ“ä½œ"></a>C. å¼ é‡çš„æ“ä½œ</h3><h4 id="1-å¼ é‡æ‹¼æ¥ä¸åˆ‡åˆ†"><a href="#1-å¼ é‡æ‹¼æ¥ä¸åˆ‡åˆ†" class="headerlink" title="1.å¼ é‡æ‹¼æ¥ä¸åˆ‡åˆ†"></a>1.å¼ é‡æ‹¼æ¥ä¸åˆ‡åˆ†</h4><h5 id="torch-cat"><a href="#torch-cat" class="headerlink" title="torch.cat( )"></a>torch.cat( )</h5><p>å°†å¼ é‡æŒ‰ç»´åº¦dimè¿›è¡Œæ‹¼æ¥ï¼Œ**<u>cat()æ“ä½œå¹¶ä¸ä¼šæ‹“å±•å¼ é‡çš„ç»´åº¦</u>**</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921193450329.png" alt="image-20210921193450329"></p>
<ul>
<li>tensorï¼šå¼ é‡åºåˆ—</li>
<li>dimï¼šè¦æ‹¼æ¥çš„ç»´åº¦</li>
</ul>
<h5 id="torch-stack"><a href="#torch-stack" class="headerlink" title="torch.stack()"></a>torch.stack()</h5><p>åœ¨**<u>æ–°åˆ›å»º</u>**çš„ç»´åº¦dimä¸Šè¿›è¡Œæ‹¼æ¥</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921193619709.png" alt="image-20210921193619709"></p>
<ul>
<li>tensorï¼šå¼ é‡åºåˆ—</li>
<li>dimï¼šè¦æ‹¼æ¥çš„ç»´åº¦</li>
</ul>
<h5 id="torch-chunk"><a href="#torch-chunk" class="headerlink" title="torch.chunk()"></a>torch.chunk()</h5><p>å°†å¼ é‡æŒ‰ç»´åº¦dimè¿›è¡Œå¹³å‡åˆ‡åˆ†ï¼Œè¿”å›å¼ é‡åˆ—è¡¨ã€‚è‹¥ä¸èƒ½æ•´é™¤ï¼Œæœ€åä¸€ä»½å¼ é‡æœ€å°ã€‚</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921194449301.png" alt="image-20210921194449301"></p>
<ul>
<li>inputï¼šè¦åˆ‡åˆ†çš„å¼ é‡</li>
<li>chunksï¼šè¦åˆ‡åˆ†çš„ä»½æ•°</li>
<li>dimï¼šè¦åˆ‡åˆ†çš„ç»´åº¦</li>
</ul>
<p>ä¾‹ï¼š</p>
<p><code>a = torch.ones((2, 7))</code> </p>
<p><code>list_of_tensors = torch.chunk(a, dim=1, chunk = 3)</code></p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921195940743.png" alt="image-20210921195940743"></p>
<h5 id="torch-split"><a href="#torch-split" class="headerlink" title="torch.split()"></a>torch.split()</h5><p>å°†å¼ é‡æŒ‰ç»´åº¦dimè¿›è¡Œåˆ‡åˆ†ï¼Œè¿”å›å€¼æ˜¯å¼ é‡åˆ—è¡¨</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921200047221.png" alt="image-20210921200047221"></p>
<ul>
<li>tensorï¼šè¦åˆ‡åˆ†çš„å¼ é‡</li>
<li>split_size_or_sectionsï¼šä¸ºintæ—¶ï¼Œè¡¨ç¤ºæ¯ä¸€ä»½çš„é•¿åº¦ï¼›ä¸ºlistæ—¶ï¼ŒæŒ‰listå…ƒç´ åˆ‡åˆ†</li>
<li>dimï¼šè¦åˆ‡åˆ†çš„ç»´åº¦</li>
</ul>
<h4 id="2-å¼ é‡ç´¢å¼•"><a href="#2-å¼ é‡ç´¢å¼•" class="headerlink" title="2. å¼ é‡ç´¢å¼•"></a>2. å¼ é‡ç´¢å¼•</h4><h5 id="torch-index-select"><a href="#torch-index-select" class="headerlink" title="torch.index_select()"></a>torch.index_select()</h5><p>åœ¨ç»´åº¦dimä¸Šï¼ŒæŒ‰indexç´¢å¼•æ•°æ®ï¼Œè¿”å›å€¼ä¸ºä¾indexç´¢å¼•æ•°æ®æ‹¼æ¥è€Œæˆçš„å¼ é‡ã€‚æ³¨æ„ï¼Œæ­¤å‡½æ•°ä¸­ï¼Œindexç±»å‹å¿…é¡»ä¸ºtorch.longã€‚</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921200540590.png" alt="image-20210921200540590"></p>
<ul>
<li>inputï¼šè¦ç´¢å¼•çš„å¼ é‡</li>
<li>dimï¼šè¦ç´¢å¼•çš„ç»´åº¦</li>
<li>indexï¼šè¦ç´¢å¼•æ•°æ®çš„åºå·</li>
</ul>
<p>ä¾‹ï¼š</p>
<p><code>t = torch.randint(0, 9, size=(3,3))</code></p>
<p><code>idx = torch.tensor([0, 2], dtype=torch.long)</code></p>
<p><code>t_select = torch.index_select(t, dim=0, index=idx)</code></p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921200914186.png" alt="image-20210921200914186"></p>
<h5 id="torch-masked-select"><a href="#torch-masked-select" class="headerlink" title="torch.masked_select()"></a>torch.masked_select()</h5><p>æŒ‰maskä¸­çš„Trueè¿›è¡Œç´¢å¼•ï¼Œè¿”å›å€¼ä¸ºä¸€ç»´å¼ é‡ã€‚</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921201241414.png" alt="image-20210921201241414"></p>
<ul>
<li>inputï¼šè¦ç´¢å¼•çš„å¼ é‡</li>
<li>maskï¼šä¸inputåŒå½¢çŠ¶çš„å¸ƒå°”ç±»å‹å¼ é‡</li>
</ul>
<p><code>çƒ­çŸ¥è¯†ï¼št = torch.randint(0, 9, size=(3,3))</code></p>
<p>â€‹                <code>mask = t.ge(5) # ge means greater or equal</code>    </p>
<p>â€‹        <code>#        mask = t.gt(5) # ge means greater</code>    </p>
<p>â€‹        <code>#        mask = t.le(5) # ge means less or equal</code>    </p>
<p>â€‹        <code>#        mask = t.lt(5) # ge means less</code></p>
<p>â€‹        <code>t_select = torch.masked_select(t, mask)</code></p>
<p>Output:</p>
<p>â€‹        <img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921201821510.png" alt="image-20210921201821510"></p>
<h4 id="3-å¼ é‡çš„å˜æ¢"><a href="#3-å¼ é‡çš„å˜æ¢" class="headerlink" title="3. å¼ é‡çš„å˜æ¢"></a>3. å¼ é‡çš„å˜æ¢</h4><h5 id="torch-reshape"><a href="#torch-reshape" class="headerlink" title="torch.reshape()"></a>torch.reshape()</h5><p>å˜æ¢å¼ é‡çš„å½¢çŠ¶ï¼Œ<strong>æ³¨æ„</strong>ï¼šå½“å¼ é‡åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­æ—¶ï¼Œæ–°å¼ é‡ä¸input<strong>å…±äº«æ•°æ®å†…å­˜</strong>ã€‚</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921202011330.png" alt="image-20210921202011330"></p>
<p>æ–°å¼ é‡å½¢çŠ¶å¤§å°åº”è¯¥ä¸inputç›¸åŒ¹é…ã€‚è‹¥ä¸ºæŸä¸€ç»´åº¦é•¿åº¦ç”±å…¶ä»–ç»´åº¦è®¡ç®—å¾—çŸ¥ï¼Œ<strong>å¯è®¾ç½®ä¸º-1</strong>ã€‚</p>
<h5 id="torch-transpose-torch-t"><a href="#torch-transpose-torch-t" class="headerlink" title="torch.transpose()/torch.t()"></a>torch.transpose()/torch.t()</h5><p>äº¤æ¢å¼ é‡çš„ä¸¤ä¸ªç»´åº¦ã€‚**(torch.t()é€‚ç”¨äºäºŒç»´å¼ é‡ï¼Œç­‰äºtorch.transpose(input, 0, 1))**</p>
<p><strong>å›¾åƒå¤„ç†æ—¶</strong>ç»å¸¸ä¼šç”¨åˆ°ï¼Œå°†channels * h * wå˜æˆh * w * channelsã€‚</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921202318278.png" alt="image-20210921202318278"></p>
<ul>
<li>inputï¼šè¦å˜æ¢çš„å¼ é‡</li>
<li>dim0ï¼šè¦äº¤æ¢çš„ç»´åº¦</li>
<li>dim1ï¼šè¦äº¤æ¢çš„ç»´åº¦</li>
</ul>
<h5 id="torch-squeeze-unsqueeze"><a href="#torch-squeeze-unsqueeze" class="headerlink" title="torch.squeeze()/unsqueeze()"></a>torch.squeeze()/unsqueeze()</h5><p><strong>squeeze()</strong>: å‹ç¼©é•¿åº¦ä¸º1çš„ç»´åº¦ï¼ˆè½´ï¼‰</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921202819633.png" alt="image-20210921202819633"></p>
<p>dimï¼šè‹¥ä¸ºNoneï¼Œç§»é™¤æ‰€æœ‰é•¿åº¦ä¸º1çš„è½´ï¼›è‹¥æŒ‡å®šç»´åº¦ï¼Œå½“ä¸”ä»…å½“è¯¥è½´é•¿åº¦ä¸º1æ—¶ï¼Œå¯ä»¥è¢«ç§»é™¤ã€‚</p>
<p>**unsqueeze()**ï¼šä¾æ®dimæ‰©å±•ç»´åº¦</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921202948318.png" alt="image-20210921202948318"></p>
<p>dim: æ‰©å±•çš„ç»´åº¦</p>
<h3 id="D-å¼ é‡æ•°å­¦è¿ç®—"><a href="#D-å¼ é‡æ•°å­¦è¿ç®—" class="headerlink" title="D. å¼ é‡æ•°å­¦è¿ç®—"></a>D. å¼ é‡æ•°å­¦è¿ç®—</h3><p>åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ol>
<li>åŠ å‡ä¹˜é™¤</li>
<li>å¯¹æ•°ï¼ŒæŒ‡æ•°ï¼Œå¹‚å‡½æ•°</li>
<li>ä¸‰è§’å‡½æ•°</li>
</ol>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921203343226.png" alt="image-20210921203343226"></p>
<h4 id="ä¸¤ä¸ªpythonicçš„æ–¹æ³•"><a href="#ä¸¤ä¸ªpythonicçš„æ–¹æ³•" class="headerlink" title="ä¸¤ä¸ªpythonicçš„æ–¹æ³•"></a>ä¸¤ä¸ªpythonicçš„æ–¹æ³•</h4><p>ä¸¤ä¸ªç‰¹åˆ«pythonicçš„æ–¹æ³•ï¼š</p>
<p>torch.addcdiv()</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921203603682.png" alt="image-20210921203603682"></p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921203550310.png" alt="image-20210921203550310"></p>
<p>torch.addcmul()</p>
<p>ç†è§£æ–¹å¼åŒä¸Š</p>
<h3 id="E-è®¡ç®—å›¾ä¸åŠ¨æ€å›¾æœºåˆ¶"><a href="#E-è®¡ç®—å›¾ä¸åŠ¨æ€å›¾æœºåˆ¶" class="headerlink" title="E. è®¡ç®—å›¾ä¸åŠ¨æ€å›¾æœºåˆ¶"></a>E. è®¡ç®—å›¾ä¸åŠ¨æ€å›¾æœºåˆ¶</h3><h4 id="1-çº¿æ€§å›å½’ï¼ˆLinear-Regressionï¼‰"><a href="#1-çº¿æ€§å›å½’ï¼ˆLinear-Regressionï¼‰" class="headerlink" title="1. çº¿æ€§å›å½’ï¼ˆLinear Regressionï¼‰"></a>1. çº¿æ€§å›å½’ï¼ˆLinear Regressionï¼‰</h4><p><strong>çº¿æ€§å›å½’</strong>æ˜¯åˆ†æä¸€ä¸ª<strong>å˜é‡</strong>ä¸å¦ä¸€ä¸ªï¼ˆå¤šä¸ªï¼‰<strong>å˜é‡</strong>ä¹‹é—´<strong>å…³ç³»</strong>çš„æ–¹æ³•ã€‚</p>
<p>å› å˜é‡ï¼šy</p>
<p>è‡ªå˜é‡ï¼šx</p>
<p>å…³ç³»ï¼šy = w*x + b</p>
<p>åˆ†æï¼šæ±‚è§£wï¼Œb</p>
<h5 id="æ¨¡å‹"><a href="#æ¨¡å‹" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h5><p>Modelï¼šy = w*x + b</p>
<h5 id="æŸå¤±å‡½æ•°"><a href="#æŸå¤±å‡½æ•°" class="headerlink" title="æŸå¤±å‡½æ•°"></a>æŸå¤±å‡½æ•°</h5><p>MSEï¼š <img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921204404418.png" alt="image-20210921204404418"></p>
<h5 id="æ±‚è§£æ¢¯åº¦å¹¶æ›´æ–°å‚æ•°"><a href="#æ±‚è§£æ¢¯åº¦å¹¶æ›´æ–°å‚æ•°" class="headerlink" title="æ±‚è§£æ¢¯åº¦å¹¶æ›´æ–°å‚æ•°"></a>æ±‚è§£æ¢¯åº¦å¹¶æ›´æ–°å‚æ•°</h5><p>w = w - LR * w.grad</p>
<p>b = w - LR * b.grad</p>
<h4 id="2-è®¡ç®—å›¾ï¼ˆComputational-Graphï¼‰"><a href="#2-è®¡ç®—å›¾ï¼ˆComputational-Graphï¼‰" class="headerlink" title="2. è®¡ç®—å›¾ï¼ˆComputational Graphï¼‰"></a>2. è®¡ç®—å›¾ï¼ˆComputational Graphï¼‰</h4><h5 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h5><p>è®¡ç®—å›¾æ˜¯ç”¨æ¥<strong>æè¿°è¿ç®—</strong>çš„<strong>æœ‰å‘æ— ç¯å›¾</strong>ã€‚</p>
<p>è®¡ç®—å›¾çš„ä¸¤ä¸ªä¸»è¦å…ƒç´ ï¼š<strong>ç»“ç‚¹</strong>ï¼ˆNodeï¼‰å’Œ<strong>è¾¹</strong>ï¼ˆEdgeï¼‰</p>
<p>ç»“ç‚¹è¡¨ç¤º<strong>æ•°æ®</strong>ï¼Œå¦‚å‘é‡ï¼ŒçŸ©é˜µï¼Œå¼ é‡</p>
<p>è¾¹è¡¨ç¤º<strong>è¿ç®—</strong>ï¼Œå¦‚åŠ å‡ä¹˜é™¤å·ç§¯ç­‰<br>$$<br>y = (x + w) * (w + 1)<br>$$<br>a = x + w<br>b = w + 1<br>y = a * b</p>
<img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921212833057.png" alt="image-20210921212833057" style="zoom: 25%;">

<h5 id="è®¡ç®—å›¾ä¸æ±‚å¯¼æœºåˆ¶"><a href="#è®¡ç®—å›¾ä¸æ±‚å¯¼æœºåˆ¶" class="headerlink" title="è®¡ç®—å›¾ä¸æ±‚å¯¼æœºåˆ¶"></a>è®¡ç®—å›¾ä¸æ±‚å¯¼æœºåˆ¶</h5><p>å½“æˆ‘ä»¬å¯¹wè¿›è¡Œæ±‚å¯¼</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921213436761.png" alt="image-20210921213436761"></p>
<img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210921213452525.png" alt="image-20210921213452525" style="zoom:25%;">

<h5 id="is-leaf-å¶å­ç»“ç‚¹"><a href="#is-leaf-å¶å­ç»“ç‚¹" class="headerlink" title="is_leaf(å¶å­ç»“ç‚¹)"></a>is_leaf(å¶å­ç»“ç‚¹)</h5><p>torch.Tensorçš„is_leafå±æ€§ã€‚ç”¨æˆ·åˆ›å»ºçš„ç»“ç‚¹ä¸ºå¶å­ç»“ç‚¹ã€‚</p>
<p>åœ¨åå‘ä¼ æ’­ï¼ˆBPï¼‰ä¸­ï¼Œæ‰€æœ‰çš„è®¡ç®—éƒ½è¦ä¾èµ–äºå¶å­ç»“ç‚¹ï¼Œåå‘ä¼ æ’­ä¹‹åï¼Œæ‰€æœ‰çš„éå¶å­ç»“ç‚¹çš„æ¢¯åº¦éƒ½ä¼šè¢«é‡Šæ”¾æ‰ã€‚</p>
<p>is_leafï¼šå¼ é‡æ˜¯å¦ä¸ºå¶å­ç»“ç‚¹ï¼ˆç»“ç‚¹ä»£è¡¨æ•°æ®ï¼Œè¾¹ä»£è¡¨è¿ç®—ï¼‰ã€‚</p>
<p><strong>å¦‚æœæƒ³ä½¿ç”¨éå¶å­ç»“ç‚¹çš„æ¢¯åº¦ï¼Œåˆ™éœ€è¦ç”¨torch.Tensor.retain_grad()</strong></p>
<h5 id="grad-fn-æ–¹æ³•"><a href="#grad-fn-æ–¹æ³•" class="headerlink" title="grad_fn(æ–¹æ³•)"></a>grad_fn(æ–¹æ³•)</h5><p>è®°å½•åˆ›å»ºè¯¥å¼ é‡æ—¶æ‰€ç”¨çš„æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰ã€‚</p>
<p><strong>å¶å­ç»“ç‚¹çš„gradient_function ä¸ºNoneã€‚</strong></p>
<p>ä¾‹ï¼š</p>
<p>y.grad_fn = &lt; MulBackward0 &gt;</p>
<p>a.grad_fn = &lt; AddBackward0 &gt;</p>
<p>b.grad_fn = &lt; AddBackward0 &gt;</p>
<h4 id="3-åŠ¨æ€å›¾vsé™æ€å›¾"><a href="#3-åŠ¨æ€å›¾vsé™æ€å›¾" class="headerlink" title="3. åŠ¨æ€å›¾vsé™æ€å›¾"></a>3. åŠ¨æ€å›¾vsé™æ€å›¾</h4><p>(PyTorch) åŠ¨æ€å›¾ï¼šè¿ç®—ä¸æ­å»º<strong>åŒæ—¶</strong>è¿›è¡Œï¼ˆè‡ªé©¾æ¸¸å‡ºè¡Œï¼‰ã€‚</p>
<p>(Tensorflow1.0) é™æ€å›¾ï¼š<strong>å…ˆ</strong>æ­å»ºå›¾ï¼Œ<strong>å</strong>è¿ç®—ï¼ˆè·Ÿæ—…æ¸¸å›¢å‡ºè¡Œï¼‰ã€‚</p>
<h3 id="F-autogradä¸é€»è¾‘å›å½’"><a href="#F-autogradä¸é€»è¾‘å›å½’" class="headerlink" title="F. autogradä¸é€»è¾‘å›å½’"></a>F. autogradä¸é€»è¾‘å›å½’</h3><p>æ·±åº¦å­¦ä¹ æ¨¡å‹è®­ç»ƒå°±æ˜¯ä¸æ–­çš„æ›´æ–°æƒå€¼ã€‚</p>
<p>æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨è®¡ç®—æ¢¯åº¦ï¼Œåªéœ€è¦æ­å¥½å‰å‘è®¡ç®—å›¾ã€‚</p>
<h4 id="1-torch-autograd"><a href="#1-torch-autograd" class="headerlink" title="1. torch.autograd"></a>1. torch.autograd</h4><h5 id="torch-autograd-backward"><a href="#torch-autograd-backward" class="headerlink" title="torch.autograd.backward"></a>torch.autograd.backward</h5><p>ç”¨äºè‡ªåŠ¨æ±‚å–æ¢¯åº¦ </p>
<p>ä¸€èˆ¬å¸¸è§çš„loss.backward()å°±æ˜¯è°ƒç”¨çš„è¿™ä¸ªæ–¹æ³•ã€‚</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210922005408519.png" alt="image-20210922005408519"></p>
<ul>
<li>tensors: ç”¨äºæ±‚å¯¼çš„å¼ é‡ï¼Œå¦‚loss</li>
<li>retain_graphï¼šä¿å­˜è®¡ç®—å›¾</li>
<li>create_graphï¼šåˆ›å»ºå¯¼æ•°è®¡ç®—å›¾ï¼Œç”¨äºé«˜é˜¶æ±‚å¯¼</li>
<li>grad_tensorsï¼šå¤šæ¢¯åº¦æƒé‡ï¼ˆç”¨äºå¤šä¸ªæ¢¯åº¦ä¹‹é—´æƒé‡çš„è®¾ç½®ï¼‰</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨retain_graphä¸ºfalseçš„æƒ…å†µï¼Œæ— æ³•è¿ç»­æ‰§è¡Œä¸¤æ¬¡åå‘ä¼ æ’­ï¼Œä¼šæç¤ºâ€the buffers have already been freedâ€œã€‚</p>
<h5 id="torch-autograd-grad"><a href="#torch-autograd-grad" class="headerlink" title="torch.autograd.grad"></a>torch.autograd.grad</h5><p>æ±‚å–æ¢¯åº¦ï¼Œè¿”å›å€¼æ˜¯æˆ‘ä»¬æƒ³è¦çš„é‚£ä¸€ä¸ªå¼ é‡çš„æ¢¯åº¦ã€‚</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210922010704023.png" alt="image-20210922010704023"></p>
<ul>
<li>outputsï¼šç”¨äºæ±‚å¯¼çš„å¼ é‡ï¼Œå¦‚loss</li>
<li>inputsï¼šéœ€è¦æ¢¯åº¦çš„å¼ é‡</li>
<li>create_graphï¼šåˆ›å»ºå¯¼æ•°è®¡ç®—å›¾ï¼ˆç”¨äºé«˜é˜¶æ±‚å¯¼æ—¶è¦ä¸ºTrueï¼Œä¾‹å¦‚å¯¹å¯¼æ•°å†æ¬¡æ±‚å¯¼ï¼‰</li>
<li>retain_graphï¼šä¿å­˜è®¡ç®—å›¾</li>
<li>grad_outputsï¼šå¤šæ¢¯åº¦æƒé‡</li>
</ul>
<h5 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a><strong><u><em>æ³¨æ„</em></u></strong></h5><ol>
<li><p><strong>æ¢¯åº¦ä¸è‡ªåŠ¨æ¸…é›¶</strong></p>
<p>æ‰€ä»¥ä¸€èˆ¬åœ¨æ‰§è¡Œbackward( )æ“ä½œä¹‹åè¦è¿›è¡Œgrad.zero_( )</p>
<p>_ä¸‹åˆ’çº¿è¡¨ç¤ºåŸåœ°ï¼ŒåŸä½æ“ä½œï¼ˆin-placeï¼‰</p>
</li>
<li><p><strong>ä¾èµ–äºå¶å­ç»“ç‚¹çš„ç»“ç‚¹ï¼Œrequired_gradé»˜è®¤ä¸ºTrue</strong></p>
</li>
<li><p><strong>å¶å­ç»“ç‚¹ä¸å¯æ‰§è¡Œin-placeæ“ä½œ</strong></p>
<p>åå‘ä¼ æ’­æ—¶æ ¹æ®åœ°å€å¯»æ‰¾æ•°æ®ï¼Œå¹¶ä¸”ç”¨åˆ°äº†å¶å­ç»“ç‚¹è¯¥åœ°å€å½“ä¸­çš„æ•°æ®ã€‚å¦‚æœåœ¨åå‘ä¼ æ’­å‰æ”¹å˜äº†è¯¥åœ°å€çš„æ•°æ®ï¼Œå°±ä¼šå¼•èµ·åå‘ä¼ æ’­å‡ºé”™ã€‚</p>
</li>
</ol>
<h4 id="2-é€»è¾‘å›å½’ï¼ˆLogisti-Regressï¼‰"><a href="#2-é€»è¾‘å›å½’ï¼ˆLogisti-Regressï¼‰" class="headerlink" title="2. é€»è¾‘å›å½’ï¼ˆLogisti Regressï¼‰"></a>2. é€»è¾‘å›å½’ï¼ˆLogisti Regressï¼‰</h4><p>é€»è¾‘å›å½’æ˜¯çº¿æ€§çš„äºŒåˆ†ç±»æ¨¡å‹</p>
<p>æ¨¡å‹è¡¨è¾¾å¼:</p>
<img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210922012147317.png" alt="image-20210922012147317" style="zoom:25%;">

<img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210922012334999.png" alt="image-20210922012334999" style="zoom: 50%;">

<p>çº¿æ€§å›å½’æ˜¯åˆ†æè‡ªå˜é‡xä¸å› å˜é‡yï¼ˆæ ‡é‡ï¼‰ä¹‹é—´å…³ç³»çš„æ–¹æ³•</p>
<p>é€»è¾‘å›å½’æ˜¯åˆ†æè‡ªå˜é‡xä¸å› å˜é‡yï¼ˆæ¦‚ç‡ï¼‰ä¹‹é—´å…³ç³»çš„æ–¹æ³•</p>
<p><img src="/2021/09/26/PyTorch-EnvSetup-BasicConcept/image-20210922012729014.png" alt="image-20210922012729014"></p>
]]></content>
      <categories>
        <category>PyTorchæ¡†æ¶å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>PyTorch</tag>
      </tags>
  </entry>
  <entry>
    <title>PythonLibraries</title>
    <url>/2021/09/27/PythonLabraries/</url>
    <content><![CDATA[<h1 id="ä¸€äº›å¥½ç”¨ä¸”å¸¸ç”¨çš„åº“"><a href="#ä¸€äº›å¥½ç”¨ä¸”å¸¸ç”¨çš„åº“" class="headerlink" title="ä¸€äº›å¥½ç”¨ä¸”å¸¸ç”¨çš„åº“"></a>ä¸€äº›å¥½ç”¨ä¸”å¸¸ç”¨çš„åº“</h1><h2 id="collections"><a href="#collections" class="headerlink" title="collections"></a>collections</h2><h3 id="namedtuple"><a href="#namedtuple" class="headerlink" title="namedtuple()"></a>namedtuple()</h3><p>collectionsæ¨¡å—çš„namedtupleå­ç±»ä¸ä»…å¯ä»¥ä½¿ç”¨ç´¢å¼• (index) è®¿é—®itemï¼Œè¿˜å¯ä»¥é€šè¿‡ç±»ä¼¼å­—å…¸çš„æ–¹å¼ï¼ˆkey-valueï¼‰è¿›è¡Œè®¿é—®ã€‚åœ¨ä»¿çœŸå¼•æ“ä¸­å¯¹æœºæ¢°è‡‚è¿›è¡Œæ§åˆ¶å»ºæ¨¡æ—¶ï¼Œéœ€è¦å¯¹åŒä¸€ä¸ªå…³èŠ‚æœ‰å¤šç»´åº¦çš„è®¾å®šï¼Œæ­¤æ—¶namedtupleç”¨èµ·æ¥å°±å¾ˆæ–¹ä¾¿ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é€‚ç”¨äºä»¿çœŸä¸­å¤„ç†æè¿°æœºå™¨äººè¿åŠ¨çŠ¶æ€å’Œè®¾å®šçš„å„ç§å‚æ•°</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"></span><br><span class="line">author = namedtuple(<span class="string">&#x27;author&#x27;</span>, [<span class="string">&#x27;firstname&#x27;</span>, <span class="string">&#x27;lastname&#x27;</span>])</span><br><span class="line">me = author(Yiting, Chen)</span><br><span class="line"><span class="built_in">print</span> me.firstname, me.lastname</span><br><span class="line"><span class="built_in">print</span> me[<span class="number">0</span>], me[<span class="number">1</span>]</span><br><span class="line">me = author._make([Eating, Chen])</span><br><span class="line"><span class="built_in">print</span> me.firstname, me.lastname</span><br><span class="line">me = me._replace(firstname = Eating716)</span><br><span class="line"><span class="built_in">print</span> me.firstname, me.lastname</span><br><span class="line"></span><br><span class="line"><span class="comment"># results</span></span><br><span class="line"><span class="comment"># Yiting Chen</span></span><br><span class="line"><span class="comment"># Yiting Chen</span></span><br><span class="line"><span class="comment"># Eating Chen</span></span><br><span class="line"><span class="comment"># Eating716 Chen</span></span><br><span class="line"> </span><br><span class="line">websites = [</span><br><span class="line">    (<span class="string">&#x27;Sohu&#x27;</span>, <span class="string">&#x27;http://www.sohu.com/&#x27;</span>, <span class="string">u&#x27;å¼ æœé˜³&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;Baidu&#x27;</span>, <span class="string">&#x27;http://www.baidu.com.cn/&#x27;</span>, <span class="string">u&#x27;æå½¦å®&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;163&#x27;</span>, <span class="string">&#x27;http://www.163.com/&#x27;</span>, <span class="string">u&#x27;ä¸ç£Š&#x27;</span>)</span><br><span class="line">]</span><br><span class="line"> </span><br><span class="line">Website = namedtuple(<span class="string">&#x27;Website&#x27;</span>, [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;url&#x27;</span>, <span class="string">&#x27;founder&#x27;</span>])</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> website <span class="keyword">in</span> websites:</span><br><span class="line">    website = Website._make(website)</span><br><span class="line">    <span class="built_in">print</span> website</span><br><span class="line">    </span><br><span class="line"><span class="comment"># results:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Website(name=&#x27;Sohu&#x27;, url=&#x27;http://www.sohu.com/&#x27;, founder=u&#x27;\u5f20\u671d\u9633&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Website(name=&#x27;Baidu&#x27;, url=&#x27;http://www.baidu.com.cn/&#x27;, founder=u&#x27;\u738b\u5fd7\u4e1c&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Website(name=&#x27;163&#x27;, url=&#x27;http://www.163.com/&#x27;, founder=u&#x27;\u4e01\u78ca&#x27;)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>PythonCoding</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>PrologueğŸ’¬</title>
    <url>/2021/09/26/SayHi/</url>
    <content><![CDATA[<p><strong><font size="10">Hi, this is Yiting ChenğŸš¬.Â </font></strong></p>
<p><strong><font size="6">Iâ€™m an amateur in Robotics &amp; MLğŸ¤–.Â </font></strong></p>
<p><strong><font size="4">Wishing to make some progress in this areağŸ“ˆÂ </font></strong></p>
<p><strong><font size="6">This blog is for recording my daily studyğŸ“.</font></strong></p>
<p><strong><font size="4">Please let me ğŸ“¬(<a href="mailto:&#99;&#104;&#101;&#x6e;&#x79;&#105;&#116;&#x69;&#110;&#103;&#x40;&#119;&#104;&#117;&#x2e;&#x65;&#100;&#x75;&#x2e;&#x63;&#x6e;">&#99;&#104;&#101;&#x6e;&#x79;&#105;&#116;&#x69;&#110;&#103;&#x40;&#119;&#104;&#117;&#x2e;&#x65;&#100;&#x75;&#x2e;&#x63;&#x6e;</a>) know if there is any question.Â </font></strong></p>
]]></content>
  </entry>
  <entry>
    <title>é¢å‘å¯¹è±¡ç¼–ç¨‹</title>
    <url>/2021/09/27/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<h2 id="é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>é¢å‘å¯¹è±¡ç¼–ç¨‹</h2><h3 id="é¢å‘å¯¹è±¡çš„æ€æƒ³"><a href="#é¢å‘å¯¹è±¡çš„æ€æƒ³" class="headerlink" title="é¢å‘å¯¹è±¡çš„æ€æƒ³"></a>é¢å‘å¯¹è±¡çš„æ€æƒ³</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æˆ‘ä»¬ç°åœ¨å…ˆæ•´ä¸ªç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">human</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, nation</span>):</span></span><br><span class="line">        self.planet = earth</span><br><span class="line">        self.nation = nation</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">whereufrom</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;I come from %s&quot;</span> % self.nation)</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Yiting</span>(<span class="params">human</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, age, surname, nation</span>):</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">super</span>(<span class="params">Yiting, self</span>).<span class="title">__init__</span>(<span class="params">nation</span>)</span></span><br><span class="line"><span class="function">        <span class="title">self</span>.<span class="title">age</span> = <span class="title">age</span></span></span><br><span class="line"><span class="function">        <span class="title">self</span>.<span class="title">surname</span> = <span class="title">surname</span></span></span><br><span class="line"><span class="function">    	<span class="title">self</span>.<span class="title">firstname</span> = &#x27;<span class="title">Yiting</span>&#x27;</span></span><br><span class="line"><span class="function">        </span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">eating</span>(<span class="params">self, food</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Yiting is eating&quot;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">whoamI</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;My name is Yiting &#123;&#125;&quot;</span>.<span class="built_in">format</span>(self.surname))</span><br><span class="line">        <span class="keyword">return</span> self.firstname + self.surname</span><br><span class="line">    </span><br><span class="line">me = Yiting(<span class="number">21</span>, Chen, China)</span><br></pre></td></tr></table></figure>



<ul>
<li><p><strong>ç±»(Class):</strong> ç”¨æ¥æè¿°å…·æœ‰ç›¸åŒçš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡çš„é›†åˆã€‚å®ƒå®šä¹‰äº†è¯¥é›†åˆä¸­æ¯ä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚<strong>å®ä¾‹åŒ–</strong>åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œç±»çš„å…·ä½“å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">me = Yiting(<span class="number">21</span>, Chen)</span><br></pre></td></tr></table></figure></li>
<li><p><strong>ç±»å˜é‡ï¼š</strong>ç±»å˜é‡åœ¨æ•´ä¸ªå®ä¾‹åŒ–çš„å¯¹è±¡ä¸­æ˜¯å…¬ç”¨çš„ã€‚ç±»å˜é‡å®šä¹‰åœ¨ç±»ä¸­ä¸”åœ¨å‡½æ•°ä½“ä¹‹å¤–ã€‚ç±»å˜é‡é€šå¸¸ä¸ä½œä¸ºå®ä¾‹å˜é‡ä½¿ç”¨ã€‚å¯ä»¥ä½¿ç”¨ç‚¹å· <strong>.</strong> æ¥è®¿é—®å¯¹è±¡çš„å±æ€§ã€‚ä½¿ç”¨å¦‚ä¸‹ç±»çš„åç§°è®¿é—®ç±»å˜é‡:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Yiting.age, Yiting.surname</span><br><span class="line"><span class="comment"># 21, Chen</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>æ–¹æ³•é‡å†™ï¼š</strong>å¦‚æœ<strong>ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•ä¸èƒ½æ»¡è¶³å­ç±»çš„éœ€æ±‚</strong>ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œæ”¹å†™ï¼Œè¿™ä¸ªè¿‡ç¨‹å«æ–¹æ³•çš„è¦†ç›–ï¼ˆoverrideï¼‰ï¼Œä¹Ÿç§°ä¸ºæ–¹æ³•çš„é‡å†™ã€‚</p>
</li>
<li><p><strong>å±€éƒ¨å˜é‡ï¼š</strong>å®šä¹‰åœ¨æ–¹æ³•ä¸­çš„å˜é‡ï¼Œ<strong>åªä½œç”¨äºå½“å‰å®ä¾‹</strong>çš„ç±»ã€‚</p>
</li>
</ul>
<ul>
<li><strong>å®ä¾‹å˜é‡ï¼š</strong>åœ¨ç±»çš„å£°æ˜ä¸­ï¼Œå±æ€§æ˜¯ç”¨å˜é‡æ¥è¡¨ç¤ºçš„ã€‚è¿™ç§å˜é‡å°±ç§°ä¸ºå®ä¾‹å˜é‡ï¼Œæ˜¯åœ¨ç±»å£°æ˜çš„å†…éƒ¨ä½†æ˜¯åœ¨ç±»çš„å…¶ä»–æˆå‘˜æ–¹æ³•ä¹‹å¤–å£°æ˜çš„ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Yiting.age, Yiting.surname, etc.</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>ç»§æ‰¿ï¼š</strong>å³ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼ˆderived classï¼‰ç»§æ‰¿åŸºç±»ï¼ˆbase classï¼‰çš„å­—æ®µå’Œæ–¹æ³•ã€‚ç»§æ‰¿ä¹Ÿå…è®¸æŠŠä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ä½œä¸ºä¸€ä¸ªåŸºç±»å¯¹è±¡å¯¹å¾…ã€‚ä¾‹å¦‚ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªè®¾è®¡ï¼šä¸€ä¸ªDogç±»å‹çš„å¯¹è±¡æ´¾ç”Ÿè‡ªAnimalç±»ï¼Œè¿™æ˜¯æ¨¡æ‹Ÿâ€æ˜¯ä¸€ä¸ªï¼ˆis-aï¼‰â€å…³ç³»ï¼ˆä¾‹å¦‚Dogæ˜¯ä¸€ä¸ªAnimalï¼‰ã€‚Python æ€»æ˜¯<strong>é¦–å…ˆæŸ¥æ‰¾å¯¹åº”ç±»å‹çš„æ–¹æ³•ï¼Œå¦‚æœå®ƒä¸èƒ½åœ¨æ´¾ç”Ÿç±»ä¸­æ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•ï¼Œå®ƒæ‰å¼€å§‹åˆ°åŸºç±»ä¸­é€ä¸ªæŸ¥æ‰¾ã€‚</strong>ï¼ˆå…ˆåœ¨æœ¬ç±»ä¸­æŸ¥æ‰¾è°ƒç”¨çš„æ–¹æ³•ï¼Œæ‰¾ä¸åˆ°æ‰å»åŸºç±»ä¸­æ‰¾ï¼‰ã€‚</li>
</ul>
<ul>
<li><p><strong>æ–¹æ³•ï¼š</strong>ç±»ä¸­å®šä¹‰çš„å‡½æ•°ã€‚__ init __()æ–¹æ³•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ï¼Œè¢«ç§°ä¸ºç±»çš„æ„é€ å‡½æ•°æˆ–åˆå§‹åŒ–æ–¹æ³•ï¼Œå½“åˆ›å»ºäº†è¿™ä¸ªç±»çš„å®ä¾‹æ—¶å°±ä¼šè°ƒç”¨è¯¥æ–¹æ³•</p>
</li>
<li><p><strong>å¯¹è±¡ï¼š</strong>é€šè¿‡ç±»å®šä¹‰çš„æ•°æ®ç»“æ„å®ä¾‹ã€‚å¯¹è±¡åŒ…æ‹¬ä¸¤ä¸ªæ•°æ®æˆå‘˜ï¼ˆç±»å˜é‡å’Œå®ä¾‹å˜é‡ï¼‰å’Œæ–¹æ³•ã€‚ä¾‹å¦‚meå°±æ˜¯å¯¹è±¡ã€‚</p>
</li>
</ul>
<h3 id="ç±»çš„ç§æœ‰ï¼ˆä¿æŠ¤ï¼‰å±æ€§å’Œæ–¹æ³•"><a href="#ç±»çš„ç§æœ‰ï¼ˆä¿æŠ¤ï¼‰å±æ€§å’Œæ–¹æ³•" class="headerlink" title="ç±»çš„ç§æœ‰ï¼ˆä¿æŠ¤ï¼‰å±æ€§å’Œæ–¹æ³•"></a>ç±»çš„ç§æœ‰ï¼ˆä¿æŠ¤ï¼‰å±æ€§å’Œæ–¹æ³•</h3><p>__ private_attrsï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥å±æ€§ä¸ºç§æœ‰ï¼Œ<strong>ä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è¢«ä½¿ç”¨æˆ–ç›´æ¥è®¿é—®ã€‚</strong>åœ¨ç±»å†…éƒ¨çš„æ–¹æ³•ä¸­ä½¿ç”¨æ—¶ï¼šself.__private_attrsã€‚</p>
<p>__ private_methodï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥æ–¹æ³•ä¸ºç§æœ‰æ–¹æ³•ï¼Œ<strong>ä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è°ƒç”¨ã€‚</strong>åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ self. __private_methods</p>
<p>_foo: ä»¥å•ä¸‹åˆ’çº¿å¼€å¤´çš„è¡¨ç¤ºçš„æ˜¯ protected ç±»å‹çš„å˜é‡ï¼Œ<strong>å³ä¿æŠ¤ç±»å‹åªèƒ½å…è®¸å…¶æœ¬èº«ä¸å­ç±»è¿›è¡Œè®¿é—®</strong>ï¼Œä¸èƒ½ç”¨äº <strong>from module import *</strong></p>
<h3 id="super-çš„ä½¿ç”¨æ–¹æ³•"><a href="#super-çš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="super()çš„ä½¿ç”¨æ–¹æ³•"></a>super()çš„ä½¿ç”¨æ–¹æ³•</h3><p><strong>super()</strong> å‡½æ•°æ˜¯ç”¨äºè°ƒç”¨çˆ¶ç±»(è¶…ç±»)çš„ä¸€ä¸ªæ–¹æ³•ã€‚</p>
<p>æ³¨æ„ï¼Œpython2.xå’Œ3.xæœ‰æ‰€ä¸åŒï¼š</p>
<ul>
<li>Python 3 å¯ä»¥ä½¿ç”¨ç›´æ¥ä½¿ç”¨ <strong>super().xxx</strong> ä»£æ›¿ <strong>super(Class, self).xxx</strong> </li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooParent</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªä¸ºçˆ¶ç±»</span></span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.parent = <span class="string">&#x27;I\&#x27;m the parent.&#x27;</span></span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&#x27;Parent&#x27;</span>)</span><br><span class="line">    <span class="comment"># å®šä¹‰å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bar</span>(<span class="params">self,message</span>):</span></span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&quot;%s from Parent&quot;</span> % message)</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooChild</span>(<span class="params">FooParent</span>):</span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªä¸ºå­ç±»</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># super(FooChild,self) é¦–å…ˆæ‰¾åˆ° FooChild çš„çˆ¶ç±»ï¼ˆå°±æ˜¯ç±» FooParentï¼‰ï¼Œç„¶åæŠŠç±» FooChild çš„å¯¹è±¡è½¬æ¢ä¸ºç±» FooParent çš„å¯¹è±¡</span></span><br><span class="line">        <span class="built_in">super</span>(FooChild,self).__init__()    </span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&#x27;Child&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bar</span>(<span class="params">self,message</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(FooChild, self).bar(message)</span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&#x27;Child bar fuction&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span> (self.parent)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fooChild = FooChild()</span><br><span class="line">    fooChild.bar(<span class="string">&#x27;HelloWorld&#x27;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># Parent</span></span><br><span class="line"><span class="comment"># Child</span></span><br><span class="line"><span class="comment"># HelloWorld from Parent</span></span><br><span class="line"><span class="comment"># Child bar fuction</span></span><br><span class="line"><span class="comment"># I&#x27;m the parent.</span></span><br></pre></td></tr></table></figure>

<p>ä¸‰ç§æƒ…å†µï¼š</p>
<p>æƒ…å†µä¸€ï¼š<strong>å­ç±»éœ€è¦è‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼š</strong>å­ç±»ä¸é‡å†™__ init __ ()æ–¹æ³•ï¼Œå®ä¾‹åŒ–å­ç±»åï¼Œä¼šè‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„ __ init __()çš„æ–¹æ³•ã€‚</p>
<p>æƒ…å†µäºŒï¼š<strong>å­ç±»ä¸éœ€è¦è‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼š</strong>å­ç±»é‡å†™ __ init __ ()æ–¹æ³•ï¼Œå®ä¾‹åŒ–å­ç±»åï¼Œå°†ä¸ä¼šè‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„__ init __()çš„æ–¹æ³•ã€‚</p>
<p>æƒ…å†µä¸‰ï¼š<strong>å­ç±»é‡å†™__init__()æ–¹æ³•åˆéœ€è¦è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼š</strong>ä½¿ç”¨superå…³é”®è¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">super</span>(å­ç±»ï¼Œself).__init__(å‚æ•°<span class="number">1</span>ï¼Œå‚æ•°<span class="number">2</span>ï¼Œ....)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span>(<span class="params">Father</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span>   </span><br><span class="line">    <span class="built_in">super</span>(Son, self).__init__(name)</span><br></pre></td></tr></table></figure>



<h2 id><a href="#" class="headerlink" title></a></h2>]]></content>
      <categories>
        <category>PythonCoding</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>PyTorch-ModelsConstruction</title>
    <url>/2021/09/26/PyTorch-ModelsConstruction/</url>
    <content><![CDATA[<h2 id="ä¸‰-PyTorchæ¨¡å‹æ­å»ºï¼ˆModelsï¼‰"><a href="#ä¸‰-PyTorchæ¨¡å‹æ­å»ºï¼ˆModelsï¼‰" class="headerlink" title="ä¸‰. PyTorchæ¨¡å‹æ­å»ºï¼ˆModelsï¼‰"></a>ä¸‰. PyTorchæ¨¡å‹æ­å»ºï¼ˆModelsï¼‰</h2><h3 id="A-æ¨¡å‹åˆ›å»ºæ­¥éª¤ä¸nn-Module"><a href="#A-æ¨¡å‹åˆ›å»ºæ­¥éª¤ä¸nn-Module" class="headerlink" title="A. æ¨¡å‹åˆ›å»ºæ­¥éª¤ä¸nn.Module"></a>A. æ¨¡å‹åˆ›å»ºæ­¥éª¤ä¸nn.Module</h3><h4 id="1-ç½‘è·¯æ¨¡å‹åˆ›å»ºæ­¥éª¤"><a href="#1-ç½‘è·¯æ¨¡å‹åˆ›å»ºæ­¥éª¤" class="headerlink" title="1. ç½‘è·¯æ¨¡å‹åˆ›å»ºæ­¥éª¤"></a>1. ç½‘è·¯æ¨¡å‹åˆ›å»ºæ­¥éª¤</h4><p>æ¨¡å‹ï¼ˆnn.Moduleï¼‰ï¼š</p>
<ul>
<li>æ¨¡å‹åˆ›å»ºï¼š<ul>
<li>æ„å»ºç½‘ç»œ<ul>
<li>å·ç§¯å±‚ï¼Œæ± åŒ–å±‚ï¼Œæ¿€æ´»å‡½æ•°å±‚ç­‰ç­‰</li>
</ul>
</li>
<li>æ‹¼æ¥ç½‘ç»œ<ul>
<li>LeNetï¼ŒResNetï¼ŒAlexNetç­‰ç­‰</li>
</ul>
</li>
</ul>
</li>
<li>æƒå€¼åˆå§‹åŒ–<ul>
<li>Xavierï¼ŒKaimingï¼Œæ­£æ€åˆ†å¸ƒï¼Œå‡åŒ€åˆ†å¸ƒç­‰</li>
</ul>
</li>
</ul>
<p>ä¾‹ï¼š</p>
<p>LeNetæ¨¡å‹å¦‚ä¸‹ï¼š</p>
<p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923111900159-16326570841981.png" alt="image-20210923111900159"></p>
<p>LeNetè®¡ç®—å›¾ï¼š</p>
<p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923111953621-16326570841983.png" alt="image-20210923111953621"></p>
<p>ä»å·¦å‘å³ä¾¿æ˜¯å‰å‘ä¼ æ’­ã€‚</p>
<p>æ„å»ºæ¨¡å‹çš„ä¸¤ä¸ªè¦ç´ ï¼š</p>
<ul>
<li>æ„å»ºå­æ¨¡å—ï¼šconvï¼Œpoolï¼Œfcç­‰ç­‰ï¼šåœ¨__ init __()ä¸­å®ç°</li>
<li>æ‹¼æ¥å­æ¨¡å—ï¼šæŒ‰ä¸€å®šçš„é¡ºåºï¼Œä¸€å®šçš„æ‹“æ‰‘ç»“æ„è¿›è¡Œç»„è£…ï¼šåœ¨forward()å½“ä¸­å®ç°</li>
</ul>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LeNet</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="comment"># æ¨¡å‹åˆå§‹åŒ–ï¼Œå°±æ˜¯æ„å»ºå­æ¨¡å—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, classes</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(LeNet, self).__init__()</span><br><span class="line">        self.conv1 = nn.Conv2d(<span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>)</span><br><span class="line">        self.conv2 = nn.Conv2d(<span class="number">6</span>, <span class="number">16</span>, <span class="number">5</span>)</span><br><span class="line">        self.fc1 = nn.Linear(<span class="number">16</span>*<span class="number">5</span>*<span class="number">5</span>, <span class="number">120</span>)</span><br><span class="line">        self.fc2 = nn.Linear(<span class="number">120</span>, <span class="number">84</span>)</span><br><span class="line">        self.fc3 = nn.Linear(<span class="number">84</span>, classes)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ‹¼æ¥å­æ¨¡å—ï¼Œä¹Ÿå°±æ˜¯å‰å‘ä¼ æ’­çš„ä¸€ä¸ªå®ç°</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        out = F.relu(self.conv1(x))</span><br><span class="line">        out = F.max_pool2d(out, <span class="number">2</span>)</span><br><span class="line">        out = F.relu(self.conv2(out))</span><br><span class="line">        out = out.view(out.size(<span class="number">0</span>), -<span class="number">1</span>)</span><br><span class="line">        out = F.relu(self.fc1(out))</span><br><span class="line">        out = F.relu(self.fc2(out))</span><br><span class="line">        out = self.fc3(out)</span><br><span class="line">        <span class="keyword">return</span> out</span><br><span class="line">    </span><br><span class="line">        </span><br></pre></td></tr></table></figure>



<h4 id="2-nn-Module"><a href="#2-nn-Module" class="headerlink" title="2. nn.Module"></a>2. nn.Module</h4><p><strong>torch.nn</strong>ï¼š</p>
<ul>
<li>nn.Parameterï¼šå¼ é‡å­ç±»ï¼Œè¡¨ç¤ºå¯å­¦ä¹ çš„å‚æ•°ï¼Œå¦‚weightï¼Œbias</li>
<li>nn.Moduleï¼šæ‰€æœ‰ç½‘ç»œå±‚çš„åŸºç±»ï¼Œç®¡ç†ç½‘ç»œçš„å±æ€§ï¼ˆä¾‹å¦‚LeNetè¦ç»§æ‰¿å®ƒï¼‰</li>
<li>nn.functionalï¼šå‡½æ•°çš„å…·ä½“å®ç°ï¼Œå¦‚å·ç§¯ï¼Œæ± åŒ–ï¼Œæ¿€æ´»å‡½æ•°ç­‰ç­‰</li>
<li>nn.initï¼šæä¾›äº†ä¸°å¯Œçš„å‚æ•°åˆå§‹åŒ–çš„æ–¹æ³•</li>
</ul>
<p><strong>nn.Module</strong>ï¼š</p>
<ul>
<li><strong>parametersï¼ˆé‡è¦ï¼‰</strong>ï¼šå­˜å‚¨ç®¡ç†nn.Parameterç±»</li>
<li><strong>modulesï¼ˆé‡è¦ï¼‰</strong>ï¼šå­˜å‚¨ç®¡ç†nn.Moduleç±»ï¼ˆæ„å»ºå­æ¨¡å—ï¼‰</li>
<li>buffersï¼šå­˜å‚¨ç®¡ç†ç¼“å†²å±æ€§ï¼Œå¦‚BNå±‚ä¸­çš„running_mean</li>
<li>***_hooksï¼šå­˜å‚¨ç®¡ç†é’©å­å‡½æ•°ï¼ˆå…±äº”ä¸ªå’Œhooksæœ‰å…³çš„å­—å…¸ï¼‰</li>
</ul>
<p><strong>åœ¨å¯¹åˆ›å»ºçš„æ–°moduleï¼ˆä¾‹å¦‚LeNetï¼‰è¿›è¡Œèµ‹å€¼æ—¶ï¼ˆ__ init  <strong>()ä¸­çš„å±æ€§æ„å»ºï¼‰ï¼Œä¼šè¢«ä¸€ä¸ª</strong> setAttr __()å‡½æ•°è¿›è¡Œæ‹¦æˆªï¼Œåˆ¤æ–­å…¶ä¸ºparameterç±»è¿˜æ˜¯moduleç±»ã€‚ç„¶ååœ¨å­˜å‚¨è¿›å„è‡ªå¯¹åº”çš„å­—å…¸å½“ä¸­ã€‚</strong></p>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>ä¸€ä¸ªmoduleå¯ä»¥åŒ…å«å¤šä¸ªå­module</li>
<li>ä¸€ä¸ªmoduleç›¸å½“äºä¸€ä¸ªè¿ç®—ï¼Œå¿…é¡»å®ç°forward()å‡½æ•°</li>
<li>æ¯ä¸ªmoduleéƒ½æœ‰8ä¸ªå­—å…¸ç®¡ç†å®ƒçš„å±æ€§</li>
</ul>
<h3 id="B-æ¨¡å‹å®¹å™¨ä¸AlexNetæ„å»º"><a href="#B-æ¨¡å‹å®¹å™¨ä¸AlexNetæ„å»º" class="headerlink" title="B. æ¨¡å‹å®¹å™¨ä¸AlexNetæ„å»º"></a>B. æ¨¡å‹å®¹å™¨ä¸AlexNetæ„å»º</h3><h4 id="1-Containers"><a href="#1-Containers" class="headerlink" title="1. Containers"></a>1. Containers</h4><p><strong>Containersï¼ˆå®¹å™¨ï¼‰</strong>:</p>
<ul>
<li><strong>nn.Sequential</strong>ï¼šæŒ‰é¡ºåºçš„å°†ä¸€ç»„ç½‘ç»œå±‚åŒ…è£¹èµ·æ¥</li>
<li><strong>nn.ModuleList</strong>ï¼šåƒpythonçš„listä¸€æ ·åŒ…è£…å¤šä¸ªç½‘ç»œå±‚</li>
<li><strong>nn.ModuleDict</strong>ï¼šåƒpythonçš„dictä¸€æ ·åŒ…è£…å¤šä¸ªç½‘ç»œå±‚</li>
</ul>
<h5 id="nn-Sequential"><a href="#nn-Sequential" class="headerlink" title="nn.Sequential"></a>nn.Sequential</h5><p><strong>nn.Sequential</strong>æ˜¯nn.Moduleçš„å®¹å™¨ï¼Œ<strong>æŒ‰é¡ºåº</strong>åŒ…è£…ä¸€ç»„ç½‘ç»œå±‚ï¼š</p>
<ul>
<li>é¡ºåºæ€§ï¼šå„ç½‘ç»œå±‚ä¹‹é—´ä¸¥æ ¼æŒ‰ç…§é¡ºåºæ„å»º</li>
<li>è‡ªå¸¦forward()ï¼šè‡ªå¸¦çš„forwardé‡Œï¼Œé€šè¿‡forå¾ªç¯ä¸€æ¬¡æ‰§è¡Œå‰å‘è¿ç®—</li>
</ul>
<p>ä¾‹1ï¼šç”¨Sequentialæ­å»ºç½‘ç»œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LeNetSequential</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="comment"># æ„å»ºå­æ¨¡å—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, classes</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(LeNetSequential, self).__init__()</span><br><span class="line">        self.features = nn.Sequential(</span><br><span class="line">        	nn.Conv2d(<span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.MaxPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>),</span><br><span class="line">            nn.Conv2d(<span class="number">6</span>, <span class="number">16</span>, <span class="number">5</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.MaxPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>),)</span><br><span class="line">       	</span><br><span class="line">        self.classifier = nn.Sequential(</span><br><span class="line">        	nn.Linear(<span class="number">6</span>*<span class="number">5</span>*<span class="number">5</span>, <span class="number">120</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">120</span>, <span class="number">84</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">84</span>, classes),)</span><br><span class="line">    <span class="comment"># æ‹¼æ¥å­æ¨¡å—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        x = self.features(x)</span><br><span class="line">        x = x.view(x.size()[<span class="number">0</span>], -<span class="number">1</span>)</span><br><span class="line">        x = self.classifier(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸ä»¥å…¨è¿æ¥å±‚ä¸ºç•Œé™ï¼Œåˆ†ä¸ºç‰¹å¾æå–å™¨å’Œåˆ†ç±»å™¨ä¸¤éƒ¨åˆ†ã€‚</p>
<p>ä¾‹2ï¼šå¯¹Sequentialè¾“å…¥OrderDict</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LeNetSequentialOrderDict</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="comment"># æ„å»ºå­æ¨¡å—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, classes</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(LeNetSequentialOrderDict, self).__init__()</span><br><span class="line">        self.features = nn.Sequential(OrderDict(&#123;</span><br><span class="line">        	<span class="string">&#x27;conv1&#x27;</span> : nn.Conv2d(<span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>),</span><br><span class="line">            <span class="string">&#x27;relu1&#x27;</span> : nn.ReLU(),</span><br><span class="line">            <span class="string">&#x27;pool1&#x27;</span> : nn.MaxPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>),</span><br><span class="line">            </span><br><span class="line">            <span class="string">&#x27;conv2&#x27;</span> : nn.Conv2d(<span class="number">6</span>, <span class="number">16</span>, <span class="number">5</span>),</span><br><span class="line">            <span class="string">&#x27;relu2&#x27;</span> : nn.ReLU(),</span><br><span class="line">            <span class="string">&#x27;pool2&#x27;</span> : nn.MaxPool2d(kernel_size=<span class="number">2</span>,stride=<span class="number">2</span>),</span><br><span class="line">        &#125;))</span><br><span class="line">       	</span><br><span class="line">        self.classifier = nn.Sequential(OrderDict(&#123;</span><br><span class="line">        	<span class="string">&#x27;fc1&#x27;</span> : nn.Linear(<span class="number">6</span>*<span class="number">5</span>*<span class="number">5</span>, <span class="number">120</span>),</span><br><span class="line">            <span class="string">&#x27;relu3&#x27;</span> : nn.ReLU(),</span><br><span class="line">            <span class="string">&#x27;fc2&#x27;</span> : nn.Linear(<span class="number">120</span>, <span class="number">84</span>),</span><br><span class="line">            <span class="string">&#x27;relu4&#x27;</span> : nn.ReLU(),</span><br><span class="line">            <span class="string">&#x27;fc3&#x27;</span> : nn.Linear(<span class="number">84</span>, classes),</span><br><span class="line">        &#125;))</span><br><span class="line">    <span class="comment"># æ‹¼æ¥å­æ¨¡å—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        x = self.features(x)</span><br><span class="line">        x = x.view(x.size()[<span class="number">0</span>], -<span class="number">1</span>)</span><br><span class="line">        x = self.classifier(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure>

<h5 id="nn-ModuleList"><a href="#nn-ModuleList" class="headerlink" title="nn.ModuleList"></a>nn.ModuleList</h5><p>nn.ModuleListæ˜¯nn.Moduleçš„å®¹å™¨ï¼Œç”¨äºåŒ…è£…ä¸€ç»„ç½‘ç»œå±‚ï¼Œä»¥è¿­ä»£æ–¹å¼è°ƒç”¨ä¸€ç»„ç½‘ç»œå±‚ã€‚</p>
<p><strong>ä¸»è¦æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>append()ï¼šåœ¨ModuleListåé¢æ·»åŠ ç½‘ç»œå±‚</li>
<li>extend()ï¼šæ‹¼æ¥ä¸¤ä¸ªModuleList</li>
<li>insert()ï¼šæŒ‡å®šåœ¨ModuleListä¸­ä½ç½®æ’å…¥ç½‘ç»œå±‚</li>
</ul>
<p>ä¾‹1ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ModuleList</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(ModuleList, self).__init__()</span><br><span class="line">        self.linears = nn.ModuleList([nn.Linear(<span class="number">10</span>, <span class="number">10</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>)])</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        <span class="keyword">for</span> i, linear <span class="keyword">in</span> <span class="built_in">enumerate</span>(self.linears):</span><br><span class="line">            x = linear(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<h5 id="nn-ModuleDict"><a href="#nn-ModuleDict" class="headerlink" title="nn.ModuleDict"></a>nn.ModuleDict</h5><p><strong>nn.ModuleDict</strong>æ˜¯ nn.moduleçš„å®¹å™¨ï¼Œ ç”¨äºåŒ…è£…ä¸€ç»„ç½‘ç»œå±‚ï¼Œä»¥<strong>ç´¢å¼•</strong>çš„æ–¹å¼è°ƒç”¨ç½‘ç»œå±‚ã€‚</p>
<ul>
<li>clear()ï¼šæ¸…ç©ºModuleDict</li>
<li>items()ï¼šè¿”å›å¯è¿­ä»£çš„é”®å€¼å¯¹(key-value pairs)</li>
<li>keys()ï¼šè¿”å›å­—å…¸çš„é”®(key)</li>
<li>values()ï¼šè¿”å›å­—å…¸çš„å€¼(value)</li>
<li>pop()ï¼šè¿”å›ä¸€å¯¹é”®å€¼ï¼Œå¹¶ä»å­—å…¸ä¸­åˆ é™¤</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ModuleDict</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(ModuleDict, self).__init__()</span><br><span class="line">        self.choices = nn.ModuleDict(&#123;</span><br><span class="line">            <span class="string">&#x27;conv&#x27;</span> : nn.Conv2d(<span class="number">10</span>, <span class="number">10</span>, <span class="number">3</span>),</span><br><span class="line">            <span class="string">&#x27;pool&#x27;</span> : nn.MaxPool2d(<span class="number">3</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">        self.activations = nn.ModuleDict(&#123;</span><br><span class="line">            <span class="string">&#x27;relu&#x27;</span> : nn.ReLU(),</span><br><span class="line">            <span class="string">&#x27;prelu&#x27;</span> : nn.PReLU()</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x, choice, act</span>):</span></span><br><span class="line">        x = self.choices[choise](x)</span><br><span class="line">        x = self.activations[act](x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    </span><br><span class="line">output = net(fake_img, <span class="string">&#x27;conv&#x27;</span>, <span class="string">&#x27;prelu&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="å®¹å™¨æ€»ç»“ï¼š"><a href="#å®¹å™¨æ€»ç»“ï¼š" class="headerlink" title="å®¹å™¨æ€»ç»“ï¼š"></a>å®¹å™¨æ€»ç»“ï¼š</h5><ul>
<li>nn.Sequentialï¼š<strong>é¡ºåºæ€§</strong>ï¼Œä¸ªç½‘ç»œå±‚ä¹‹é—´ä¸¥æ ¼æŒ‰é¡ºåºæ‰§è¡Œï¼Œå¸¸ç”¨äºblockæ„å»º</li>
<li>nn.ModuleListï¼š<strong>è¿­ä»£æ€§</strong>ï¼Œå¸¸ç”¨äºå¤§é‡é‡å¤ç½‘ç»œæ„å»ºï¼Œé€šè¿‡forå¾ªç¯å®ç°é‡å¤æ„å»º</li>
<li>nn.ModuleDictï¼š<strong>ç´¢å¼•æ€§</strong>ï¼Œå¸¸ç”¨äºå¯é€‰æ‹©çš„ç½‘ç»œå±‚</li>
</ul>
<h4 id="2-AlexNet"><a href="#2-AlexNet" class="headerlink" title="2.AlexNet"></a>2.AlexNet</h4><p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923150239978-16326570841982.png" alt="image-20210923150239978"></p>
<p>å‰é¢å·ç§¯æ± åŒ–çš„éƒ¨åˆ†ç»„è£…æˆ<strong>features</strong>ï¼Œåé¢çš„å…¨è¿æ¥éƒ¨åˆ†ç»„è£…æˆ<strong>classifier</strong></p>
<h3 id="C-nnç½‘ç»œå±‚-å·ç§¯å±‚"><a href="#C-nnç½‘ç»œå±‚-å·ç§¯å±‚" class="headerlink" title="C. nnç½‘ç»œå±‚-å·ç§¯å±‚"></a>C. nnç½‘ç»œå±‚-å·ç§¯å±‚</h3><h4 id="1-1d-2d-3då·ç§¯"><a href="#1-1d-2d-3då·ç§¯" class="headerlink" title="1. 1d/2d/3då·ç§¯"></a>1. 1d/2d/3då·ç§¯</h4><p>å·ç§¯è¿ç®—ï¼šå·ç§¯æ ¸åœ¨è¾“å…¥ä¿¡å·ï¼ˆå›¾åƒï¼‰ä¸Šæ»‘åŠ¨ï¼Œç›¸åº”ä½ç½®ä¸Šè¿›è¡Œ<strong>ä¹˜åŠ </strong>ã€‚</p>
<p>å·ç§¯æ ¸ï¼šåˆç§°ä¸ºæ»¤æ³¢å™¨ï¼Œè¿‡æ»¤å™¨ï¼Œå¯è®¤ä¸ºæ˜¯æŸç§æ¨¡å¼ï¼Œç‰¹å¾ã€‚</p>
<p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923195219275-16326570841984.png" alt="image-20210923195219275"></p>
<p>å·ç§¯è¿‡ç¨‹ç±»ä¼¼äºç”¨ä¸€ä¸ªæ¨¡æ¿å»å›¾åƒä¸Šå¯»æ‰¾ä¸ä»–ç±»ä¼¼çš„åŒºåŸŸï¼Œä¸å·ç§¯æ ¸æ¨¡å¼è¶Šç›¸ä¼¼ï¼Œæ¿€æ´»å€¼è¶Šé«˜ï¼Œä»è€Œå®ç°ç‰¹å¾æå–ã€‚</p>
<p>AlexNetå·ç§¯æ ¸å¯è§†åŒ–ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå‘ç°å·ç§¯æ ¸å­¦ä¹ åˆ°çš„æ˜¯è¾¹ç¼˜ï¼Œæ¡çº¹ï¼Œè‰²å½©ç€ä¸€äº›ç»†èŠ‚æ¨¡å¼ã€‚<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923195435689-16326570841985.png" alt="image-20210923195435689" style="zoom:50%;"></p>
<p><strong>å·ç§¯ç»´åº¦</strong>ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå·ç§¯æ ¸<strong>åœ¨å‡ ä¸ªç»´åº¦ä¸‹æ»‘åŠ¨ï¼Œå°±æ˜¯å‡ ç»´å·ç§¯</strong>ã€‚</p>
<p>ä¸€ä¸ªå·ç§¯æ ¸åœ¨ä¸€ä¸ªä¿¡å·ä¸Šçš„å‡ ç»´å·ç§¯ã€‚</p>
<p>ä¸€ç»´å·ç§¯ï¼š</p>
<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923201126680-16326570841987.png" alt="image-20210923201126680" style="zoom:33%;">

<p>äºŒç»´å·ç§¯ï¼š</p>
<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923201301917-16326570841986.png" alt="image-20210923201301917" style="zoom:33%;">

<p>ä¸‰ç»´å·ç§¯ï¼š                        <img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923201323469-16326570841988.png" alt="image-20210923201323469" style="zoom:33%;">ã€</p>
<p>nn.Conv2d</p>
<p>å¯¹å¤šä¸ªäºŒç»´ä¿¡å·è¿›è¡ŒäºŒç»´å·ç§¯</p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>in_channelsï¼šè¾“å…¥é€šé“æ•°</li>
<li>out_channelsï¼šè¾“å‡ºé€šé“æ•°ï¼Œç­‰ä»·äºå·ç§¯æ ¸ä¸ªæ•°</li>
<li>kernel_sizeï¼šå·ç§¯æ ¸å°ºå¯¸</li>
<li>strideï¼šæ­¥é•¿ï¼ˆæ¯æ¬¡æ»‘åŠ¨ç»è¿‡å¤šå°‘åƒç´ ï¼‰</li>
<li>paddingï¼šå¡«å……ä¸ªæ•°ï¼ˆä¿æŒè¾“å…¥å’Œè¾“å‡ºå°ºå¯¸åŒ¹é…ï¼‰</li>
<li>dilationï¼šå­”æ´å·ç§¯å¤§å°ï¼ˆå¸¸ç”¨äºå›¾åƒåˆ†å‰²ä»»åŠ¡ï¼Œç”¨äºæå‡æ„Ÿå—åŒºåŸŸï¼‰</li>
<li>groupsï¼šåˆ†ç»„å·ç§¯è®¾ç½®</li>
<li>biasï¼šåç½®</li>
</ul>
<p>å›¾åƒå°ºå¯¸å˜åŒ–ï¼š</p>
<p>ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šoutsize = ï¼ˆInsize - kernelsizeï¼‰/ stride + 1</p>
<p>ï¼ˆå®Œæ•´ç‰ˆï¼‰ï¼š<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923202218467-16326570841989.png" alt="image-20210923202218467"></p>
<h4 id="2-å·ç§¯-nn-Conv2d"><a href="#2-å·ç§¯-nn-Conv2d" class="headerlink" title="2. å·ç§¯-nn.Conv2d()"></a>2. å·ç§¯-nn.Conv2d()</h4><p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923205449306-163265708419810.png" alt="image-20210923205449306"></p>
<h4 id="3-è½¬ç½®å·ç§¯-nn-ConvTranspose"><a href="#3-è½¬ç½®å·ç§¯-nn-ConvTranspose" class="headerlink" title="3.è½¬ç½®å·ç§¯-nn.ConvTranspose"></a>3.è½¬ç½®å·ç§¯-nn.ConvTranspose</h4><p>è½¬ç½®å·ç§¯åˆç§°ä¸ºåå·ç§¯ï¼ˆDeconvolution)å’Œéƒ¨åˆ†è·¨è¶Šå·ç§¯ï¼ˆFractionally strided Convolutionï¼‰ï¼Œç”¨äºå¯¹å›¾åƒè¿›è¡Œä¸Šé‡‡æ ·ï¼ˆUpSampleï¼‰ã€‚</p>
<p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923210001350-163265708419811.png" alt="image-20210923210001350"></p>
<p>nn.Transpose2d</p>
<p>è½¬ç½®å·ç§¯å®ç°ä¸Šé‡‡æ ·</p>
<p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923210527210-163265708419812.png" alt="image-20210923210527210"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>in_channelsï¼šè¾“å…¥é€šé“æ•°</li>
<li>out_channelsï¼šè¾“å‡ºé€šé“æ•°ï¼Œç­‰ä»·äºå·ç§¯æ ¸ä¸ªæ•°</li>
<li>kernel_sizeï¼šå·ç§¯æ ¸å°ºå¯¸</li>
<li>strideï¼šæ­¥é•¿ï¼ˆæ¯æ¬¡æ»‘åŠ¨ç»è¿‡å¤šå°‘åƒç´ ï¼‰</li>
<li>paddingï¼šå¡«å……ä¸ªæ•°ï¼ˆä¿æŒè¾“å…¥å’Œè¾“å‡ºå°ºå¯¸åŒ¹é…ï¼‰</li>
<li>dilationï¼šå­”æ´å·ç§¯å¤§å°ï¼ˆå¸¸ç”¨äºå›¾åƒåˆ†å‰²ä»»åŠ¡ï¼Œç”¨äºæå‡æ„Ÿå—åŒºåŸŸï¼‰</li>
<li>groupsï¼šåˆ†ç»„å·ç§¯è®¾ç½®</li>
<li>biasï¼šåç½®</li>
</ul>
<p>è½¬ç½®å·ç§¯çš„å°ºå¯¸è®¡ç®—ï¼š</p>
<p>ï¼ˆç®€åŒ–ç‰ˆï¼‰outsize = ï¼ˆinsize - 1ï¼‰*stride + kernelsize</p>
<p>ï¼ˆå®Œæ•´ç‰ˆï¼‰ï¼š<br><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923210734836-163265708419814.png" alt="image-20210923210734836"></p>
<h3 id="D-æ± åŒ–ã€çº¿æ€§ã€æ¿€æ´»å‡½æ•°å±‚"><a href="#D-æ± åŒ–ã€çº¿æ€§ã€æ¿€æ´»å‡½æ•°å±‚" class="headerlink" title="D. æ± åŒ–ã€çº¿æ€§ã€æ¿€æ´»å‡½æ•°å±‚"></a>D. æ± åŒ–ã€çº¿æ€§ã€æ¿€æ´»å‡½æ•°å±‚</h3><h4 id="1-æ± åŒ–å±‚â€”â€”Pooling-Layer"><a href="#1-æ± åŒ–å±‚â€”â€”Pooling-Layer" class="headerlink" title="1. æ± åŒ–å±‚â€”â€”Pooling Layer"></a>1. æ± åŒ–å±‚â€”â€”Pooling Layer</h4><p>æ± åŒ–è¿ç®—ï¼šå¯¹ä¿¡å·è¿›è¡Œ <strong>â€œæ”¶é›†â€</strong> å¹¶ <strong>â€œæ€»ç»“â€</strong>ï¼Œç±»ä¼¼æ°´æ± æ”¶é›†æ°´èµ„æºï¼Œå› è€Œå¾—åæ± åŒ–å±‚ã€‚</p>
<p><strong>â€œæ”¶é›†â€</strong>ï¼šå¤šå˜å°‘</p>
<p><strong>â€œæ€»ç»“â€</strong>ï¼šæœ€å¤§å€¼ / å¹³å‡å€¼</p>
<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923211736432-163265708419813.png" alt="image-20210923211736432" style="zoom:50%;">

<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923211835083-163265708419815.png" alt="image-20210923211835083" style="zoom:50%;">

<h5 id="nn-MaxPool2d"><a href="#nn-MaxPool2d" class="headerlink" title="nn.MaxPool2d"></a>nn.MaxPool2d</h5><p>å¯¹äºŒç»´ä¿¡å·ï¼ˆå›¾åƒï¼‰è¿›è¡Œæœ€å¤§å€¼æ± åŒ–</p>
<p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923212056580-163265708419916.png" alt="image-20210923212056580"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>kernel_sizeï¼šæ± åŒ–æ ¸å°ºå¯¸</li>
<li>strideï¼šæ­¥é•¿ï¼ˆæ­¥é•¿é€šå¸¸ä¸çª—å£å¤§å°ä¸€æ ·ï¼‰</li>
<li>paddingï¼šå¡«å……ä¸ªæ•°</li>
<li>dilationï¼šæ± åŒ–æ ¸é—´éš”å¤§å°</li>
<li>ceil_modeï¼šå°ºå¯¸å‘ä¸Šå–æ•´</li>
<li>return_indicesï¼šè®°å½•æ± åŒ–åƒç´ ç´¢å¼•ï¼ˆè®°å½•æœ€å¤§å€¼åœ¨çš„ä½ç½®ï¼Œåœ¨åæ± åŒ–çš„æ—¶å€™æŠŠæœ€å¤§å€¼æ”¾åœ¨å¯¹åº”çš„ä½ç½®ä¸Šï¼‰</li>
</ul>
<p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923212830427-163265708419917.png" alt="image-20210923212830427"></p>
<h5 id="nn-AvgPool2d"><a href="#nn-AvgPool2d" class="headerlink" title="nn.AvgPool2d"></a>nn.AvgPool2d</h5><p>å¯¹äºŒç»´ä¿¡å·ï¼ˆå›¾åƒï¼‰è¿›è¡Œå¹³å‡å€¼æ± åŒ–</p>
<p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923213658337-163265708419918.png" alt="image-20210923213658337"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>kernel_sizeï¼šæ± åŒ–æ ¸å°ºå¯¸</li>
<li>strideï¼šæ­¥é•¿ï¼ˆæ­¥é•¿é€šå¸¸ä¸çª—å£å¤§å°ä¸€æ ·ï¼‰</li>
<li>paddingï¼šå¡«å……ä¸ªæ•°</li>
<li>ceil_modeï¼šå°ºå¯¸å‘ä¸Šå–æ•´</li>
<li>count_include_padï¼šå¡«å……å€¼ç”¨äºè®¡ç®—</li>
<li>divisor_overrideï¼šé™¤æ³•å› å­</li>
</ul>
<h5 id="nn-MaxUnpool2d"><a href="#nn-MaxUnpool2d" class="headerlink" title="nn.MaxUnpool2d"></a>nn.MaxUnpool2d</h5><p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923221525532-163265708419919.png" alt="image-20210923221525532"></p>
<p>å¯¹äºŒç»´ä¿¡å·ï¼ˆå›¾åƒï¼‰è¿›è¡Œæœ€å¤§å€¼æ± åŒ–ä¸Šé‡‡æ ·</p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>kernel_sizeï¼šæ± åŒ–æ ¸å°ºå¯¸</li>
<li>strideï¼šæ­¥é•¿</li>
<li>paddingï¼šå¡«å……ä¸ªæ•°</li>
</ul>
<p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923212830427-163265708419917.png" alt="image-20210923212830427"></p>
<p>åœ¨forward( )çš„æ—¶å€™è¦ä¼ å…¥ç´¢å¼•å±‚ï¼Œå°±æ˜¯indicesã€‚</p>
<h4 id="2-çº¿æ€§å±‚â€”â€”Linear-Layer"><a href="#2-çº¿æ€§å±‚â€”â€”Linear-Layer" class="headerlink" title="2. çº¿æ€§å±‚â€”â€”Linear Layer"></a>2. çº¿æ€§å±‚â€”â€”Linear Layer</h4><p>çº¿æ€§å±‚åˆç§°å…¨è¿æ¥å±‚ï¼Œå…¶<strong>æ¯ä¸ªç¥ç»å…ƒä¸ä¸Šä¸€å±‚æ‰€æœ‰ç¥ç»å…ƒç›¸è¿</strong>ã€‚</p>
<p>å®ç°å¯¹å‰ä¸€å±‚çš„<strong>çº¿æ€§ç»„åˆï¼Œçº¿æ€§å˜æ¢</strong></p>
<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923222244138-163265708419920.png" alt="image-20210923222244138" style="zoom:25%;">

<h5 id="nn-Linear"><a href="#nn-Linear" class="headerlink" title="nn.Linear"></a>nn.Linear</h5><p>å¯¹ä¸€ç»´ä¿¡å·ï¼ˆå‘é‡ï¼‰è¿›è¡Œçº¿æ€§ç»„åˆ</p>
<p><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923222813962-163265708419921.png" alt="image-20210923222813962"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>in_featuresï¼šè¾“å…¥ç»“ç‚¹æ•°</li>
<li>out_featuresï¼šè¾“å‡ºç»“ç‚¹æ•°</li>
<li>biasï¼šæ˜¯å¦éœ€è¦åç½®</li>
</ul>
<p>è®¡ç®—å…¬å¼ï¼š<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923222749821-163265708419922.png" alt="image-20210923222749821" style="zoom:50%;"></p>
<h4 id="3-æ¿€æ´»å‡½æ•°å±‚â€”â€”Activation-Layer"><a href="#3-æ¿€æ´»å‡½æ•°å±‚â€”â€”Activation-Layer" class="headerlink" title="3. æ¿€æ´»å‡½æ•°å±‚â€”â€”Activation Layer"></a>3. æ¿€æ´»å‡½æ•°å±‚â€”â€”Activation Layer</h4><p>æ¿€æ´»å‡½æ•°å¯¹ç‰¹å¾è¿›è¡Œ<strong>éçº¿æ€§å˜æ¢</strong>ï¼Œèµ‹äºˆå¤šå±‚ç¥ç»ç½‘ç»œå…·æœ‰<strong>æ·±åº¦æ„ä¹‰</strong>ã€‚</p>
<p>å¦‚æœ<strong>æ²¡æœ‰</strong>éçº¿æ€§å˜åŒ–ï¼Œ<strong>æ— è®º</strong>å¤šå°‘å±‚çº¿æ€§å±‚å åŠ éƒ½æ²¡æœ‰æ„ä¹‰ï¼Œä¸€ä¸ªçŸ©é˜µå°±éƒ½èƒ½æå®šã€‚</p>
<h5 id="nn-Sigmoid"><a href="#nn-Sigmoid" class="headerlink" title="nn.Sigmoid"></a>nn.Sigmoid</h5><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923223344685-163265708419923.png" alt="image-20210923223344685" style="zoom:33%;">

<p>ç‰¹æ€§ï¼š</p>
<ul>
<li>è¾“å‡ºå€¼åœ¨ï¼ˆ0ï¼Œ1ï¼‰ï¼Œç¬¦åˆæ¦‚ç‡</li>
<li>å¯¼æ•°èŒƒå›´æ˜¯[0, 0.25]ï¼Œå®¹æ˜“æ¢¯åº¦æ¶ˆå¤±</li>
<li>è¾“å‡ºä¸ºé0å‡å€¼ï¼Œç ´åæ•°æ®åˆ†å¸ƒ</li>
</ul>
<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923223502929-163265708419924.png" alt="image-20210923223502929" style="zoom: 25%;">

<h5 id="nn-tanh"><a href="#nn-tanh" class="headerlink" title="nn.tanh"></a>nn.tanh</h5><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923223628333-163265708419925.png" alt="image-20210923223628333" style="zoom: 50%;">

<p>ç‰¹æ€§ï¼š</p>
<ul>
<li>è¾“å‡ºå€¼åœ¨ï¼ˆ-1ï¼Œ1ï¼‰ï¼Œæ•°æ®ç¬¦åˆ0å‡å€¼</li>
<li>å¯¼æ•°èŒƒå›´æ˜¯ï¼ˆ0ï¼Œ1ï¼‰ï¼Œæ˜“å¯¼è‡´æ¢¯åº¦æ¶ˆå¤±</li>
</ul>
<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923223736195-163265708419926.png" alt="image-20210923223736195" style="zoom: 25%;">

<h5 id="nn-ReLU"><a href="#nn-ReLU" class="headerlink" title="nn.ReLU"></a>nn.ReLU</h5><img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923223932829-163265708419927.png" alt="image-20210923223932829" style="zoom: 33%;">

<p>ç‰¹æ€§ï¼š</p>
<ul>
<li>è¾“å‡ºå€¼å‡ä¸ºæ­£æ•°ï¼Œè´ŸåŠè½´å¯¼è‡´æ­»ç¥ç»å…ƒï¼ˆæœ‰ä¸€éƒ¨åˆ†ç¥ç»å…ƒå°±æ­»æ‰äº†ï¼‰</li>
<li>å¯¼æ•°æ˜¯1ï¼ˆä¸æ”¹å˜æ¢¯åº¦çš„å°ºåº¦ï¼‰ï¼Œç¼“è§£æ¢¯åº¦æ¶ˆå¤±ï¼Œä½†æ˜“å¼•å‘æ¢¯åº¦çˆ†ç‚¸</li>
</ul>
<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923224046062-163265708419928.png" alt="image-20210923224046062" style="zoom:25%;">

<h5 id="nn-ReLUå˜å¼"><a href="#nn-ReLUå˜å¼" class="headerlink" title="nn.ReLUå˜å¼"></a>nn.ReLUå˜å¼</h5><p>nn.LeakyReLU</p>
<ul>
<li>negative_slopeï¼šè´ŸåŠè½´æ–œç‡</li>
</ul>
<p>nn.PReLU</p>
<ul>
<li>initï¼šå¯å­¦ä¹ æ–œç‡</li>
</ul>
<p>nn.RReLU</p>
<p>Rä»£è¡¨random</p>
<ul>
<li>lowerï¼šå‡åŒ€åˆ†å¸ƒä¸‹é™</li>
<li>upperï¼šå‡åŒ€åˆ†å¸ƒä¸Šé™</li>
</ul>
<img src="/2021/09/26/PyTorch-ModelsConstruction/image-20210923224438706-163265708419929.png" alt="image-20210923224438706" style="zoom:25%;">

<p><strong>è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ”¹è¿›</strong>ï¼Œæ—¥åè¡¥å……</p>
]]></content>
      <categories>
        <category>PyTorchæ¡†æ¶å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>PyTorch</tag>
      </tags>
  </entry>
  <entry>
    <title>PyTorch-Loss&amp;Optimizer</title>
    <url>/2021/09/26/PyTorch-Loss-Optimizer/</url>
    <content><![CDATA[<h2 id="å››-PyTorchæŸå¤±ä¼˜åŒ–ï¼ˆLoss-amp-Optimizerï¼‰"><a href="#å››-PyTorchæŸå¤±ä¼˜åŒ–ï¼ˆLoss-amp-Optimizerï¼‰" class="headerlink" title="å››. PyTorchæŸå¤±ä¼˜åŒ–ï¼ˆLoss&amp;Optimizerï¼‰"></a>å››. PyTorchæŸå¤±ä¼˜åŒ–ï¼ˆLoss&amp;Optimizerï¼‰</h2><h3 id="A-æƒå€¼åˆå§‹åŒ–"><a href="#A-æƒå€¼åˆå§‹åŒ–" class="headerlink" title="A. æƒå€¼åˆå§‹åŒ–"></a>A. æƒå€¼åˆå§‹åŒ–</h3><h4 id="1-æ¢¯åº¦æ¶ˆå¤±ä¸çˆ†ç‚¸Gradient-Vanishing-and-Exploring"><a href="#1-æ¢¯åº¦æ¶ˆå¤±ä¸çˆ†ç‚¸Gradient-Vanishing-and-Exploring" class="headerlink" title="1. æ¢¯åº¦æ¶ˆå¤±ä¸çˆ†ç‚¸Gradient Vanishing and Exploring"></a>1. æ¢¯åº¦æ¶ˆå¤±ä¸çˆ†ç‚¸Gradient Vanishing and Exploring</h4><h5 id="æ–¹å·®ä¸€è‡´æ€§åŸåˆ™"><a href="#æ–¹å·®ä¸€è‡´æ€§åŸåˆ™" class="headerlink" title="æ–¹å·®ä¸€è‡´æ€§åŸåˆ™"></a>æ–¹å·®ä¸€è‡´æ€§åŸåˆ™</h5><p>$$</p>
<ol>
<li> E(X*Y) = E(X)*E(Y)\</li>
<li> D(X) = E(X^2) - [E(X)]^2\</li>
<li> D(X+Y) = D(X) + D(Y)<br>$$</li>
</ol>
<p>$$<br>1.2.3 \Rightarrow D(X<em>Y) = D(X)<em>D(Y) + D(X)</em>[E(Y)]^2 + D(Y)</em>[E(X)]^2\<br>è‹¥E(X)=0, E(Y)=0\<br>åˆ™D(X*Y) = D(X)*D(Y)<br>$$</p>
<p>$$<br>ç¬¬ä¸€ä¸ªéšè—å±‚çš„ç¬¬ä¸€ä¸ªç¥ç»å…ƒ, è¾“å…¥å±‚çš„æ¯ä¸€ä¸ªç¥ç»å…ƒâœ–æƒå€¼æ±‚å’Œï¼š\<br>H_{11} = \sum^{n}<em>{i=0}X_i*W</em>{1i}\ç”±å…¬å¼ D(X<em>Y) = D(X)<em>D(Y)\<br>å¯çŸ¥D(H_{11}) = \sum^{n}<em>{i=0}D(X_i)*D(W</em>{1i})\ = n*(1</em>1)nä¸ºç¥ç»å…ƒçš„ä¸ªæ•°ï¼ŒX_iå’ŒW_içš„æ–¹å·®å‡ä¸º1\<br>=n\<br>std(H_{11}) = \sqrt{D(H_{11})} = \sqrt{n}\<br>æ„å‘³ç€ç»è¿‡ä¸€å±‚ç¥ç»å…ƒçš„ä¼ æ’­æ ‡å‡†å·®å°±ä¼šæ‰©å¤§\sqrt{n}å€\<br>å› æ­¤ï¼Œæƒ³è®©æ–¹å·®D(H_1) = n</em>D(X)*D(W) = 1\<br>D(W)=\frac{1}{n}\Rightarrow std(W)=\sqrt{\frac{1}{n}}\<br>æ‰€ä»¥æƒå€¼çš„æ ‡å‡†å·®ä¸º\sqrt{\frac{1}{n}}æ—¶ï¼ˆnä¸ºæ¯ä¸€å±‚ç¥ç»å…ƒä¸ªæ•°ï¼‰ï¼Œ\æ‰å¯ä»¥ä¿è¯å°ºåº¦ç»´æŒåœ¨æ°å½“èŒƒå›´ã€‚<br>$$</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210924001951770.png" alt="image-20210924001951770"></p>
<p>éœ€è¦ä¿æŒå°ºåº¦ä¸å˜</p>
<h4 id="2-Xavieræ–¹æ³•å’ŒKaimingæ–¹æ³•"><a href="#2-Xavieræ–¹æ³•å’ŒKaimingæ–¹æ³•" class="headerlink" title="2. Xavieræ–¹æ³•å’ŒKaimingæ–¹æ³•"></a>2. Xavieræ–¹æ³•å’ŒKaimingæ–¹æ³•</h4><p>Xavieråˆå§‹åŒ–</p>
<p>æ–¹å·®ä¸€è‡´æ€§ï¼šä¿æŒæ•°æ®å°ºåº¦ç»´æŒåœ¨æ°å½“èŒƒå›´ï¼Œé€šå¸¸æ–¹å·®ä¸º1ã€‚</p>
<p>é€‚ç”¨æ¿€æ´»å‡½æ•°ï¼šé¥±å’Œå‡½æ•°ï¼Œå¦‚sigmoidï¼ŒTanh</p>
<img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210924004244068.png" alt="image-20210924004244068" style="zoom: 50%;">

<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210924004442111.png" alt="image-20210924004442111"></p>
<p>Kaimingåˆå§‹åŒ–</p>
<p>æ–¹å·®ä¸€è‡´æ€§ï¼šä¿æŒæ•°æ®å°ºåº¦ç»´æŒåœ¨æ°å½“èŒƒå›´ï¼Œé€šå¸¸æ–¹å·®ä¸º1ã€‚</p>
<p>é€‚ç”¨æ¿€æ´»å‡½æ•°ï¼šReLUåŠå…¶å˜ç§</p>
<img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210924005023102.png" alt="image-20210924005023102" style="zoom: 33%;">





<h4 id="3-å¸¸ç”¨åˆå§‹åŒ–æ–¹æ³•"><a href="#3-å¸¸ç”¨åˆå§‹åŒ–æ–¹æ³•" class="headerlink" title="3. å¸¸ç”¨åˆå§‹åŒ–æ–¹æ³•"></a>3. å¸¸ç”¨åˆå§‹åŒ–æ–¹æ³•</h4><h5 id="PyTorchæ–¹æ³•æŸ¥è¯¢"><a href="#PyTorchæ–¹æ³•æŸ¥è¯¢" class="headerlink" title="PyTorchæ–¹æ³•æŸ¥è¯¢"></a>PyTorchæ–¹æ³•æŸ¥è¯¢</h5><p><a href="https://pytorch.org/docs/stable/nn.init.html">https://pytorch.org/docs/stable/nn.init.html</a></p>
<ul>
<li>Xavierå‡åŒ€/æ­£æ€åˆ†å¸ƒ</li>
<li>Kaimingå‡åŒ€/æ­£æ€åˆ†å¸ƒ</li>
<li>å‡åŒ€åˆ†å¸ƒ / æ­£æ€åˆ†å¸ƒ / å¸¸ç†Ÿåˆ†å¸ƒ</li>
<li>æ­£äº¤çŸ©é˜µåˆå§‹åŒ– / å•ä½çŸ©é˜µåˆå§‹åŒ– / ç¨€ç–çŸ©é˜µåˆå§‹åŒ–</li>
</ul>
<h5 id="nn-init-calculate-gain"><a href="#nn-init-calculate-gain" class="headerlink" title="nn.init.calculate_gain()"></a>nn.init.calculate_gain()</h5><p>nn.init.calculate_gain(nonlinearity, param=None)</p>
<p>è®¡ç®—æ¿€æ´»å‡½æ•°çš„æ–¹å·®å˜æ¢å°ºåº¦</p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>nonlinearityï¼šæ¿€æ´»å‡½æ•°åç§°</li>
<li>paramï¼šæ¿€æ´»å‡½æ•°çš„å‚æ•°ï¼Œå¦‚leakyReLUçš„negative_slop</li>
</ul>
<h3 id="B-æŸå¤±å‡½æ•°"><a href="#B-æŸå¤±å‡½æ•°" class="headerlink" title="B. æŸå¤±å‡½æ•°"></a>B. æŸå¤±å‡½æ•°</h3><h4 id="1-æŸå¤±å‡½æ•°æ¦‚å¿µ"><a href="#1-æŸå¤±å‡½æ•°æ¦‚å¿µ" class="headerlink" title="1. æŸå¤±å‡½æ•°æ¦‚å¿µ"></a>1. æŸå¤±å‡½æ•°æ¦‚å¿µ</h4><p><strong>æŸå¤±å‡½æ•°</strong>ï¼šè¡¡é‡æ¨¡å‹è¾“å‡ºä¸çœŸå®æ ‡ç­¾çš„<strong>å·®å¼‚</strong></p>
<img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210924105850749.png" alt="image-20210924105850749" style="zoom:50%;">

<p>æŸå¤±å‡½æ•°ï¼ˆLoss Functionï¼‰ï¼š</p>
<p>è®¡ç®—<strong>ä¸€ä¸ªæ ·æœ¬</strong><br>$$<br>Loss = fï¼ˆyâ€™ï¼Œy)<br>$$<br>ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰ï¼š</p>
<p>è®¡ç®—<strong>è®­ç»ƒé›†ï¼ˆæ ·æœ¬é›†ï¼‰</strong>ä¸­å„ä¸ªLossçš„<strong>å¹³å‡å€¼</strong><br>$$<br>Cost = \frac{1}{N}\sum^{N}_{i}f(yâ€™_i, y_i)<br>$$<br>ç›®æ ‡å‡½æ•°ï¼ˆObjective Functionï¼‰ï¼š<br>$$<br>Obj = Costï¼ˆä»£ä»·å‡½æ•°ï¼‰ + Regularization<br>$$<br>Costä»£ä»·å‡½æ•°<strong>å¹¶ä¸æ˜¯è¶Šå°è¶Šå¥½</strong>ï¼Œå¯èƒ½ä¼šæœ‰è¿‡æ‹Ÿåˆã€‚çº¦æŸé¡¹æ˜¯Regularizationï¼ˆL1ï¼ŒL2ï¼Œç¨€ç–çº¦æŸï¼‰ï¼Œå’ŒCostä¸€èµ·æ„æˆç›®æ ‡å‡½æ•°ã€‚</p>
<h4 id="2-æŸå¤±å‡½æ•°"><a href="#2-æŸå¤±å‡½æ•°" class="headerlink" title="2. æŸå¤±å‡½æ•°"></a>2. æŸå¤±å‡½æ•°</h4><h5 id="nn-CrossEntropyLoss"><a href="#nn-CrossEntropyLoss" class="headerlink" title="nn.CrossEntropyLoss"></a>nn.CrossEntropyLoss</h5><p><strong>nn.LogSoftmax()ä¸nn.NLLLoss()ç»“åˆ</strong>ï¼Œè¿›è¡Œäº¤å‰ç†µè®¡ç®—</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210924112655749.png" alt="image-20210924112655749"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>weightï¼šå„ç±»åˆ«çš„lossè®¾ç½®æƒå€¼</li>
<li>ignore_indexï¼šå¿½ç•¥æŸä¸ªç±»åˆ«</li>
<li>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/sum/meanã€‚â€˜noneâ€™ä¸ä¼šé€ æˆç»´åº¦ä¸Šçš„è¡°å‡ï¼Œâ€˜sumâ€™ä¼šå°†losså€¼ç›¸åŠ ï¼Œâ€˜meanâ€™ä¼šå¯¹æ‰€æœ‰lossæ±‚å¹³å‡ã€‚  </li>
</ul>
<p>none- é€ä¸ªå…ƒç´ è®¡ç®—</p>
<p>sum- æ‰€æœ‰å…ƒç´ æ±‚å’Œï¼Œè¿”å›æ ‡é‡</p>
<p>mean- åŠ æƒå¹³å‡ï¼Œè¿”å›æ ‡é‡</p>
<p>äº¤å‰ç†µ = ä¿¡æ¯ç†µ + ç›¸å¯¹ç†µ</p>
<p>ç†µï¼ˆç”¨æ¥æè¿°ä¸€ä»¶äº‹æƒ…çš„ä¸ç¡®å®šæ€§ï¼Œä¸ç¡®å®šæ€§çš„æ¦‚ç‡è¶Šå¤§ï¼Œç†µå°±è¶Šå¤§ï¼‰ï¼š</p>
<p>ç†µæ˜¯è‡ªä¿¡æ¯çš„ä¸€ä¸ªæœŸæœ›ï¼Œæ˜¯æè¿°æ•´ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼š<br>$$<br>H(P)=E_{x\thicksim p}[I(x)] = -\sum^{N}<em>{i}P(x_i)logP(x_i)<br>$$<br>è‡ªä¿¡æ¯çš„å…¬å¼ï¼Œå¯¹æ¦‚ç‡å–ä¸€ä¸ªè´Ÿlogï¼š<br>$$<br>I(x) = -log[p(x)]<br>$$<br>ç›¸å¯¹ç†µï¼Œç”¨æ¥è¡¡é‡ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„è·ç¦»ï¼ˆå·®å¼‚ï¼‰ï¼š<br>$$<br>D</em>{KL}(P, Q) = E_{x\thicksim p}[log\frac{P(x)}{Q(x)}]\<br>= E_{x\thicksim p}[logP(x) - logQ(x)]\<br>=\sum^{N}<em>{i=1}P(x_i)[logP(x_i)-logQ(x_i)]\<br>=\sum^{N}</em>{i=1}P(x_i)logP(x_i)-\sum^{N}_{i=1}P(x_i)logQ(x_i)\<br>=H(P,Q) - H(P)\<br>Pæ˜¯çœŸå®åˆ†å¸ƒï¼ŒQæ˜¯æ¨¡å‹æ‹Ÿåˆçš„åˆ†å¸ƒã€‚æˆ‘ä»¬è¦ç”¨Qå»æ‹Ÿåˆï¼ˆé€¼è¿‘ï¼‰P<br>$$<br>weightå‚æ•°çš„ä½¿ç”¨ï¼š</p>
<ul>
<li>å‘é‡çš„å½¢å¼ï¼Œæœ‰å¤šå°‘ä¸ªç±»åˆ«ï¼Œå°±è¦æœ‰å¤šå°‘ä¸ªweight</li>
<li>ä½¿ç”¨ä¹‹åï¼Œä¼šç»™ä¸åŒçš„ç±»åˆ«èµ‹äºˆä¸åŒçš„æƒå€¼</li>
</ul>
<h5 id="nn-NLLLoss"><a href="#nn-NLLLoss" class="headerlink" title="nn.NLLLoss"></a>nn.NLLLoss</h5><p>å®ç°è´Ÿå¯¹æ•°ä¼¼ç„¶å‡½æ•°ä¸­çš„è´Ÿå·åŠŸèƒ½ï¼ˆå…¶å®åªæ˜¯æ‰§è¡Œäº†åŠ ä¸ªè´Ÿå·çš„åŠŸèƒ½ï¼‰</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210924163054623.png" alt="image-20210924163054623"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>weightï¼šå„ç±»åˆ«çš„lossè®¾ç½®æƒå€¼</li>
<li>ignore_indexï¼šå¿½ç•¥æŸä¸ªç±»åˆ«</li>
<li>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/sum/mean</li>
</ul>
<p>none- é€ä¸ªå…ƒç´ è®¡ç®—</p>
<p>sum- æ‰€æœ‰å…ƒç´ æ±‚å’Œï¼Œè¿”å›æ ‡é‡</p>
<p>mean- åŠ æƒå¹³å‡ï¼Œè¿”å›æ ‡é‡</p>
<h5 id="nn-BCELoss"><a href="#nn-BCELoss" class="headerlink" title="nn.BCELoss"></a>nn.BCELoss</h5><p>äºŒåˆ†ç±»äº¤å‰ç†µ</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925145330328.png" alt="image-20210925145330328"></p>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼šè¾“å…¥å€¼å–å€¼åœ¨[0, 1]ï¼Œç¬¦åˆæ¦‚ç‡å–å€¼çš„åŒºé—´</p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>weightï¼šå„ç±»åˆ«çš„lossè®¾ç½®æƒå€¼</li>
<li>ignore_indexï¼šå¿½ç•¥æŸä¸ªç±»åˆ«</li>
<li>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/sum/mean</li>
</ul>
<h5 id="nn-BCEWithLogitsLoss"><a href="#nn-BCEWithLogitsLoss" class="headerlink" title="nn.BCEWithLogitsLoss"></a>nn.BCEWithLogitsLoss</h5><p>ç»“åˆ<strong>Sigmoid</strong>ä¸<strong>äºŒåˆ†ç±»äº¤å‰ç†µ</strong></p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925145853652.png" alt="image-20210925145853652"></p>
<p><strong>æ³¨æ„äº‹é¡¹ï¼šç½‘ç»œåé¢ä¸åŠ sigmoidå‡½æ•°</strong></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>pos_weightï¼šæ­£æ ·æœ¬çš„æƒå€¼</li>
<li>weightï¼šå„ç±»åˆ«çš„lossè®¾ç½®æƒå€¼</li>
<li>ignore_indexï¼šå¿½ç•¥æŸä¸ªç±»åˆ«</li>
<li>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/sum/mean</li>
</ul>
<h5 id="nn-L1Loss"><a href="#nn-L1Loss" class="headerlink" title="nn.L1Loss"></a>nn.L1Loss</h5><p>è®¡ç®—inputsä¸targetä¹‹å·®çš„ç»å¯¹å€¼</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925150840297.png" alt="image-20210925150840297"></p>
<h5 id="nn-MSELoss"><a href="#nn-MSELoss" class="headerlink" title="nn.MSELoss"></a>nn.MSELoss</h5><p>è®¡ç®—inputsä¸targetä¹‹å·®çš„å¹³æ–¹</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925150852293.png" alt="image-20210925150852293"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/ sum/ mean</li>
</ul>
<h5 id="nn-SmoothL1Loss"><a href="#nn-SmoothL1Loss" class="headerlink" title="nn.SmoothL1Loss"></a>nn.SmoothL1Loss</h5><p>å¹³æ»‘çš„L1Lossã€‚</p>
<p>Xiæ˜¯æ¨¡å‹è¾“å‡ºï¼ŒYiæ˜¯æ ‡ç­¾ã€‚</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925151138993.png" alt="image-20210925151138993"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/ sum/ mean</li>
<li><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925151323568.png" alt="image-20210925151323568" style="zoom:33%;"></li>
</ul>
<h5 id="nn-PoissonNLLLoss"><a href="#nn-PoissonNLLLoss" class="headerlink" title="nn.PoissonNLLLoss"></a>nn.PoissonNLLLoss</h5><p>æ³Šæ¾åˆ†å¸ƒçš„è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±å‡½æ•°</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925151752707.png" alt="image-20210925151752707"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li><strong>log_input</strong>ï¼šè¾“å…¥æ˜¯å¦ä¸ºå¯¹æ•°å½¢å¼ï¼Œå†³å®šè®¡ç®—å…¬å¼</li>
<li><strong>full</strong>ï¼šè®¡ç®—æ‰€æœ‰lossï¼Œé»˜è®¤ä¸ºFalse</li>
<li><strong>eps</strong>ï¼šä¿®æ­£é¡¹ï¼Œé¿å…logï¼ˆinputï¼‰ä¸ºnan</li>
</ul>
<h5 id="nn-KLDivLoss"><a href="#nn-KLDivLoss" class="headerlink" title="nn.KLDivLoss"></a>nn.KLDivLoss</h5><p>è®¡ç®—<strong>KLDï¼ˆdivergenceï¼‰</strong>ï¼ŒKLæ•£åº¦ï¼Œ<strong>ç›¸å¯¹ç†µ</strong>ã€‚è¡¡é‡ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„è·ç¦»ã€‚</p>
<p><strong>æ³¨æ„äº‹é¡¹ï¼šéœ€æå‰å°†è¾“å…¥è®¡ç®—log-probabilitiesï¼Œå¦‚é€šè¿‡nn.logsoftmax()</strong></p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925152326201.png" alt="image-20210925152326201"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>reductionï¼šnone/ sum/ mean /batchmean</li>
</ul>
<p>batchmean- batchsizeç»´åº¦æ±‚å¹³å‡å€¼</p>
<h5 id="nn-MarginRankingLoss"><a href="#nn-MarginRankingLoss" class="headerlink" title="nn.MarginRankingLoss"></a>nn.MarginRankingLoss</h5><p>è®¡ç®—ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œ<strong>ç”¨äºæ’åºä»»åŠ¡</strong></p>
<p>y=1æ—¶ï¼Œå¸Œæœ›x1ä¸x2å¤§ï¼Œå½“x1&gt;x2æ—¶ï¼Œä¸äº§ç”Ÿloss</p>
<p>y=-1æ—¶ï¼Œå¸Œæœ›x2æ¯”x1å¤§ï¼Œå½“x2&gt;x1æ—¶ï¼Œä¸äº§ç”Ÿloss</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925153835354.png" alt="image-20210925153835354"></p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925153849860.png" alt="image-20210925153849860"></p>
<p><strong>ç‰¹åˆ«è¯´æ˜ï¼šè¯¥æ–¹æ³•è®¡ç®—ä¸¤ç»„æ•°æ®ä¹‹é—´çš„å·®å¼‚ï¼Œè¿”å›ä¸€ä¸ªn*nçš„lossçŸ©é˜µ</strong></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>marginï¼šè¾¹ç•Œå€¼ï¼Œx1ä¸x2ä¹‹é—´çš„å·®å¼‚å€¼</li>
<li>reductionï¼šè®¡ç®—æ¨¡å¼</li>
</ul>
<h5 id="nn-MultiLabelMarginLoss"><a href="#nn-MultiLabelMarginLoss" class="headerlink" title="nn.MultiLabelMarginLoss"></a>nn.MultiLabelMarginLoss</h5><p>å¤šæ ‡ç­¾è¾¹ç•ŒæŸå¤±å‡½æ•°</p>
<p>ä¸¾ä¾‹ï¼šå››åˆ†ç±»ä»»åŠ¡ï¼Œæ ·æœ¬xå±äº0ç±»æˆ–è€…3ç±»</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925155812561.png" alt="image-20210925155812561"></p>
<p>æ ‡ç­¾ï¼š[0ï¼Œ3ï¼Œ-1ï¼Œ1]ï¼Œä¸æ˜¯[1ï¼Œ0ï¼Œ0ï¼Œ1]</p>
<h5 id="nn-SofrMarginLoss"><a href="#nn-SofrMarginLoss" class="headerlink" title="nn.SofrMarginLoss"></a>nn.SofrMarginLoss</h5><p>è®¡ç®—äºŒåˆ†ç±»çš„logisticæŸå¤±</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925160607942.png" alt="image-20210925160607942"></p>
<h5 id="nn-MultiLabelSoftMarginLoss"><a href="#nn-MultiLabelSoftMarginLoss" class="headerlink" title="nn.MultiLabelSoftMarginLoss"></a>nn.MultiLabelSoftMarginLoss</h5><p>SoftMarginLosså¤šæ ‡ç­¾ç‰ˆæœ¬</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925160853772.png" alt="image-20210925160853772"></p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925160909202.png" alt="image-20210925160909202"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<p><strong>weight</strong>ï¼šå„ç±»åˆ«çš„lossè®¾ç½®æƒå€¼</p>
<p><strong>reduction</strong>ï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone / sum / mean</p>
<h5 id="nn-MultiMarginLoss"><a href="#nn-MultiMarginLoss" class="headerlink" title="nn.MultiMarginLoss"></a>nn.MultiMarginLoss</h5><p>è®¡ç®—å¤šåˆ†ç±»çš„æŠ˜é¡µæŸå¤±</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925161602192.png" alt="image-20210925161602192"></p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925161628228.png" alt="image-20210925161628228"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>pï¼šå¯é€‰1æˆ–2</li>
<li>weightï¼šå„ç±»åˆ«çš„lossè®¾ç½®æƒå€¼</li>
<li>marginï¼šè¾¹ç•Œå€¼</li>
<li>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/sum/mean</li>
</ul>
<h5 id="nn-TripletMarginLoss"><a href="#nn-TripletMarginLoss" class="headerlink" title="nn.TripletMarginLoss"></a>nn.TripletMarginLoss</h5><p>è®¡ç®—ä¸‰å…ƒç»„æŸå¤±ï¼Œäººè„¸éªŒè¯ä¸­å¸¸ç”¨</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925162115800.png" alt="image-20210925162115800"></p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925162211016.png" alt="image-20210925162211016"></p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925162237021.png" alt="image-20210925162237021"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>pï¼šèŒƒæ•°çš„é˜¶ï¼Œé»˜è®¤ä¸º2</li>
<li>marginï¼šè¾¹ç•Œå€¼</li>
<li>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/sum/mean</li>
</ul>
<h5 id="nn-HingeEmbeddingLoss"><a href="#nn-HingeEmbeddingLoss" class="headerlink" title="nn.HingeEmbeddingLoss"></a>nn.HingeEmbeddingLoss</h5><p>è®¡ç®—ä¸¤ä¸ªè¾“å…¥çš„ç›¸ä¼¼æ€§ï¼Œå¸¸ç”¨äºéçº¿æ€§embeddingå’ŒåŠç›‘ç£å­¦ä¹ </p>
<p><strong>ç‰¹åˆ«æ³¨æ„ï¼šè¾“å…¥xåº”ä¸ºä¸¤ä¸ªè¾“å…¥åªå·®çš„ç»å¯¹å€¼</strong></p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925162430193.png" alt="image-20210925162430193"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>marginï¼šè¾¹ç•Œå€¼</li>
<li>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/sum/mean</li>
</ul>
<h5 id="nn-CosineEmbeddingLoss"><a href="#nn-CosineEmbeddingLoss" class="headerlink" title="nn.CosineEmbeddingLoss"></a>nn.CosineEmbeddingLoss</h5><p>é‡‡ç”¨ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—ä¸¤ä¸ªè¾“å…¥çš„ç›¸ä¼¼æ€§ï¼Œä¸»è¦å…³æ³¨æ–¹å‘ä¸Šçš„å·®å¼‚ã€‚</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925162632490.png" alt="image-20210925162632490"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<p>marginï¼šå¯å–å€¼[-1ï¼Œ1]ï¼Œæ¨èä¸º[0ï¼Œ0.5]</p>
<p>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/sum/mean</p>
<h5 id="nn-CTCLoss"><a href="#nn-CTCLoss" class="headerlink" title="nn.CTCLoss"></a>nn.CTCLoss</h5><p>è®¡ç®—CTCæŸå¤±ï¼Œè§£å†³æ—¶åºç±»æ•°æ®çš„åˆ†ç±»Connectionist Temporal Classification</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925163057884.png" alt="image-20210925163057884"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>blankï¼šblank label</li>
<li>zero_infinityï¼šæ— ç©·å¤§çš„å€¼æˆ–è€…æ¢¯åº¦ç½®0</li>
<li>reductionï¼šè®¡ç®—æ¨¡å¼ï¼Œå¯ä¸ºnone/sum/mean</li>
</ul>
<h3 id="C-ä¼˜åŒ–å™¨-Optimizer"><a href="#C-ä¼˜åŒ–å™¨-Optimizer" class="headerlink" title="C. ä¼˜åŒ–å™¨ Optimizer"></a>C. ä¼˜åŒ–å™¨ Optimizer</h3><h4 id="1-ä»€ä¹ˆæ˜¯ä¼˜åŒ–å™¨"><a href="#1-ä»€ä¹ˆæ˜¯ä¼˜åŒ–å™¨" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ä¼˜åŒ–å™¨"></a>1. ä»€ä¹ˆæ˜¯ä¼˜åŒ–å™¨</h4><p>pytorchçš„ä¼˜åŒ–å™¨ï¼šç®¡ç†å¹¶æ›´æ–°æ¨¡å‹ä¸­çš„å¯å­¦ä¹ å‚æ•°çš„å€¼ï¼Œä½¿å¾—æ¨¡å‹è¾“å‡ºæ›´æ¥è¿‘çœŸå®æ ‡ç­¾</p>
<ul>
<li><strong>å¯¼æ•°</strong>ï¼šå‡½æ•°åœ¨æŒ‡å®šåæ ‡è½´ä¸Šçš„å˜åŒ–ç‡</li>
<li><strong>æ–¹å‘å¯¼æ•°</strong>ï¼šæŒ‡å®šæ–¹å‘ä¸Šçš„å˜åŒ–ç‡</li>
<li><strong>æ¢¯åº¦</strong>ï¼šä¸€ä¸ªå‘é‡ï¼Œæ–¹å‘ä¸ºæ–¹å‘å¯¼æ•°å–å¾—æœ€å¤§å€¼çš„æ–¹å‘</li>
</ul>
<img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925164501982.png" alt="image-20210925164501982" style="zoom:50%;">

<h4 id="2-optimizerçš„å±æ€§"><a href="#2-optimizerçš„å±æ€§" class="headerlink" title="2. optimizerçš„å±æ€§"></a>2. optimizerçš„å±æ€§</h4><p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925164937096.png" alt="image-20210925164937096"></p>
<p>åŸºæœ¬å±æ€§ï¼š</p>
<ul>
<li>defaultsï¼šä¼˜åŒ–å™¨è¶…å‚æ•°</li>
<li>stateï¼šå‚æ•°çš„ç¼“å­˜ï¼Œå¦‚momentumçš„ç¼“å­˜</li>
<li>param_groupsï¼šç®¡ç†çš„å‚æ•°ç»„</li>
<li>_step_countï¼šè®°å½•æ›´æ–°çš„æ¬¡æ•°ï¼Œå­¦ä¹ ç‡è°ƒæ•´ä¸­ä½¿ç”¨</li>
</ul>
<p>åŸºæœ¬æ–¹æ³•ï¼š</p>
<ul>
<li><p>zero_grad()ï¼šæ¸…ç©ºæ‰€ç®¡ç†å‚æ•°çš„æ¢¯åº¦<img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925165616845.png" alt="image-20210925165616845" style="zoom:50%;"></p>
</li>
<li><p>step()ï¼šæ‰§è¡Œä¸€æ­¥æ›´æ–°ï¼Œæ›´æ–°ä¸€æ¬¡æˆ‘ä»¬çš„æƒå€¼å‚æ•°</p>
</li>
<li><p>add_param_group()ï¼šæ·»åŠ å‚æ•°ç»„</p>
</li>
<li><p>state_dict()ï¼šè·å–ä¼˜åŒ–å™¨å½“å‰çŠ¶æ€ä¿¡æ¯å­—å…¸</p>
</li>
<li><p>load_state_dict()ï¼šåŠ è½½çŠ¶æ€ä¿¡æ¯å­—å…¸ï¼ˆç”¨äºæ¨¡å‹æ–­ç‚¹çš„ç»­è®­ç»ƒï¼‰</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925211631557.png" alt="image-20210925211631557"></p>
</li>
</ul>
<p><strong>pytorchç‰¹æ€§ï¼šå¼ é‡æ¢¯åº¦ä¸è‡ªåŠ¨æ¸…é›¶ï¼Œä¼šå°†æ¯ä¸€æ¬¡è®¡ç®—çš„æ¢¯åº¦åŠ åœ¨ä¸€èµ·ã€‚æ‰€ä»¥éœ€è¦ä½¿ç”¨å®Œæ¢¯åº¦ï¼Œæˆ–è€…backwardä¹‹å‰ï¼Œè¦zero_grad()ä¸€ä¸‹ã€‚</strong></p>
<h4 id="3-optimizerçš„æ–¹æ³•"><a href="#3-optimizerçš„æ–¹æ³•" class="headerlink" title="3. optimizerçš„æ–¹æ³•"></a>3. optimizerçš„æ–¹æ³•</h4><h4 id="4-learning-rateå­¦ä¹ ç‡"><a href="#4-learning-rateå­¦ä¹ ç‡" class="headerlink" title="4. learning rateå­¦ä¹ ç‡"></a>4. learning rateå­¦ä¹ ç‡</h4><p>æ¢¯åº¦ä¸‹é™ï¼š<br>$$<br>W_{i+1} = W_{i} - g(W_{i})<br>$$<br>å‡è®¾ç°åœ¨å‡½æ•°ä¸º<br>$$<br>y = f(x) = 4<em>x^2\<br>yâ€™ = fâ€™(x)=8</em>x<br>$$<br><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925215213471.png" alt="image-20210925215213471" style="zoom:33%;"><br>$$<br>x_0 =2,y_0 = 16,fâ€™(x_0)=16\<br>x_1=x_0 - fâ€™(x_0)=2-16=14\<br>x_1=-14,y_1 = 784, fâ€™(x_1)=-112\<br>x_2 = x_1 - fâ€™(x_1)=-14+112=98,y_2=38416\<br>â€¦â€¦<br>$$<br>å¦‚æœæ²¡æœ‰å­¦ä¹ ç‡çš„è¯ï¼Œå°±ä¼šæ¢¯åº¦çˆ†ç‚¸ã€‚</p>
<img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925220758203.png" alt="image-20210925220758203" style="zoom: 50%;">

<p>å­¦ä¹ ç‡ï¼ˆlearning rateï¼‰æ§åˆ¶æ›´æ–°çš„æ­¥ä¼ã€‚<br>$$<br>W_{i+1} = W_{i} - LR*g(W_{i})<br>$$<br>æ­¤æ—¶æˆ‘ä»¬å°†LRè®¾ç½®ä¸º0.2ï¼š</p>
<img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925221017651.png" alt="image-20210925221017651" style="zoom: 50%;">

<p>å°†LRè®¾ç½®ä¸º0.1æ—¶ï¼š</p>
<img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925221141585.png" alt="image-20210925221141585" style="zoom: 50%;">



<h4 id="5-momentum-åŠ¨é‡"><a href="#5-momentum-åŠ¨é‡" class="headerlink" title="5. momentum åŠ¨é‡"></a>5. momentum åŠ¨é‡</h4><p>Momentumï¼ˆåŠ¨é‡ï¼Œå†²é‡ï¼‰ï¼š<strong>ç»“åˆå½“å‰æ¢¯åº¦ä¸ä¸Šä¸€æ¬¡æ›´æ–°ä¿¡æ¯</strong>ï¼Œç”¨äºå½“å‰æ›´æ–°ã€‚</p>
<p>æŒ‡æ•°åŠ æƒå¹³å‡ï¼š<br>$$<br>v_t = \beta * v_{t-1} + (1-\beta)*\theta_t\<br>v_{100} = \beta * v_{99} + (1-\beta)*\theta_{100}\<br>= (1-\beta)<em>\theta_{100} + (1-\beta)<em>\beta</em>\theta_{99}+(\beta^2</em>v_{98})\<br>=\sum^N_i(1-\beta)<em>\beta^i</em>\theta_{N-i}<br>$$<br><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šè·ç¦»å½“å‰æ—¶é—´è¶Šè¿‘ï¼Œå½±å“è¶Šå¤§ï¼›è·ç¦»å½“å‰æ—¶é—´è¶Šè¿œï¼Œå½±å“è¶Šå°ã€‚</p>
<p>PyTorchä¸­çš„æ›´æ–°å…¬å¼ï¼š<br>$$<br>v_i = m<em>v_{i-1}+g(w_i)\<br>w_{i+1}=w_i - lr</em>v_i\<br>w_{w+1}ï¼šç¬¬i+1æ¬¡æ›´æ–°çš„å‚æ•°\<br>lrï¼šå­¦ä¹ ç‡\<br>v_i = æ›´æ–°é‡\<br>mï¼šmomentumç³»æ•°\<br>g(w_i)ï¼šw_içš„æ¢¯åº¦<br>$$</p>
<h4 id="6-torch-optim-SGD"><a href="#6-torch-optim-SGD" class="headerlink" title="6. torch.optim.SGD"></a>6. torch.optim.SGD</h4><p>ç”¨çš„æœ€å¤šçš„ä¼˜åŒ–å™¨ï¼Œç»å¤§éƒ¨åˆ†æ¨¡å‹éƒ½å¯ä»¥ç”¨SGDè·å¾—ä¸€ä¸ªä¸é”™çš„æ•ˆæœã€‚</p>
<p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925230235496.png" alt="image-20210925230235496"></p>
<p>ä¸»è¦å‚æ•°ï¼š</p>
<ul>
<li>paramsï¼šç®¡ç†çš„å‚æ•°ç»„</li>
<li>lrï¼šåˆå§‹å­¦ä¹ ç‡</li>
<li>momentumï¼šåŠ¨é‡å‚æ•°ï¼Œè´å¡”</li>
<li>weight_decayï¼šL2æ­£åˆ™åŒ–ç³»æ•°</li>
<li>nesterovï¼šæ˜¯å¦é‡‡ç”¨NAGï¼ˆé€šå¸¸ä¸ºfalseï¼Œä¸ä¼šé‡‡ç”¨ï¼‰</li>
</ul>
<h3 id="D-Pytorchçš„åç§ä¼˜åŒ–å™¨"><a href="#D-Pytorchçš„åç§ä¼˜åŒ–å™¨" class="headerlink" title="D. Pytorchçš„åç§ä¼˜åŒ–å™¨"></a>D. Pytorchçš„åç§ä¼˜åŒ–å™¨</h3><p><img src="/2021/09/26/PyTorch-Loss-Optimizer/image-20210925230441311.png" alt="image-20210925230441311"></p>
<h4 id="TODOï¼šè¯¦ç»†ä½¿ç”¨æ–¹æ³•ä»¥åè¡¥å……"><a href="#TODOï¼šè¯¦ç»†ä½¿ç”¨æ–¹æ³•ä»¥åè¡¥å……" class="headerlink" title="TODOï¼šè¯¦ç»†ä½¿ç”¨æ–¹æ³•ä»¥åè¡¥å……"></a>TODOï¼šè¯¦ç»†ä½¿ç”¨æ–¹æ³•ä»¥åè¡¥å……</h4>]]></content>
      <categories>
        <category>PyTorchæ¡†æ¶å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>PyTorch</tag>
      </tags>
  </entry>
  <entry>
    <title>PyTorch-DataProcess&amp;Dataset</title>
    <url>/2021/09/26/PyTorch-DataProcess-Dataset/</url>
    <content><![CDATA[<h2 id="äºŒ-PyTorchæ•°æ®å¤„ç†ï¼ˆDatasetï¼‰"><a href="#äºŒ-PyTorchæ•°æ®å¤„ç†ï¼ˆDatasetï¼‰" class="headerlink" title="äºŒ. PyTorchæ•°æ®å¤„ç†ï¼ˆDatasetï¼‰"></a>äºŒ. PyTorchæ•°æ®å¤„ç†ï¼ˆDatasetï¼‰</h2><h3 id="A-æ•°æ®è¯»å–æœºåˆ¶Dataloaderä¸Dataset"><a href="#A-æ•°æ®è¯»å–æœºåˆ¶Dataloaderä¸Dataset" class="headerlink" title="A. æ•°æ®è¯»å–æœºåˆ¶Dataloaderä¸Dataset"></a>A. æ•°æ®è¯»å–æœºåˆ¶Dataloaderä¸Dataset</h3><p><strong>æ•°æ®</strong>ï¼š</p>
<ul>
<li><strong>æ•°æ®æ”¶é›†</strong>ï¼šImg &amp; Label</li>
<li><strong>æ•°æ®åˆ’åˆ†</strong>ï¼štrain valid test</li>
<li><strong>æ•°æ®è¯»å–</strong>ï¼šDataloaderï¼ˆSamplerç”Ÿæˆç´¢å¼• / Datasetæ ¹æ®ç´¢å¼•è¯»å–æ•°æ®ï¼‰</li>
<li><strong>æ•°æ®é¢„å¤„ç†</strong>ï¼štransform</li>
</ul>
<p><strong>Epoch</strong>: æ‰€æœ‰è®­ç»ƒæ ·æœ¬éƒ½è¾“å…¥åˆ°æ¨¡å‹å½“ä¸­ä¸€æ¬¡ï¼Œç§°ä¸ºä¸€ä¸ªepoch</p>
<p><strong>Iteration</strong>ï¼šä¸€æ‰¹æ ·æœ¬è¾“å…¥åˆ°æ¨¡å‹ä¸­</p>
<p><strong>Batchsize</strong>ï¼šæ‰¹å¤§å°ï¼Œå†³å®šäº†ä¸€ä¸ªEpochè¿›è¡Œå¤šå°‘æ¬¡Iteration</p>
<p><strong>ä¾‹</strong>ï¼š</p>
<ul>
<li><p>æ ·æœ¬æ€»æ•°ï¼š80ï¼ŒBatchsizeï¼š8ï¼Œ1 Epoch = 10 Iteration</p>
</li>
<li><p>æ ·æœ¬æ€»æ•°ï¼š87ï¼ŒBatchsizeï¼š8</p>
<p>drop_last = True/Falseï¼Œ1 Epoch = 10 Iteration/11 Iteration</p>
</li>
</ul>
<p>æ•°æ®è¯»å–æœºåˆ¶ï¼š</p>
<ul>
<li>è¯»å“ªäº›æ•°æ®ï¼šåœ¨æ¯ä¸€ä¸ªiterationæ—¶ï¼Œè¯»ä¸€ä¸ªbatchsizeå¤§å°ï¼Œè¯¥è¯»å–å“ªå‡ ä¸ªæ•°æ®ã€‚ä¸€èˆ¬æ˜¯samplerè¾“å‡ºçš„indexã€‚</li>
<li>ä»å“ªè¯»æ•°æ®ï¼šåœ¨ç¡¬ç›˜ä¸­ä»å“ªæ‰¾æ•°æ®ã€‚datasetä¸­çš„data_dirã€‚</li>
<li>æ€ä¹ˆè¯»æ•°æ®ï¼š Datasetä¸­çš„getitem</li>
</ul>
<p>è®­ç»ƒæ—¶ï¼š</p>
<p>ä»¥Epochä¸ºä¸»å¾ªç¯ï¼Œå…¶ä¸­åµŒå…¥æ¯æ¬¡Iterationçš„å¾ªç¯ã€‚</p>
<h4 id="1-Dataloaderå’ŒDataset"><a href="#1-Dataloaderå’ŒDataset" class="headerlink" title="1. Dataloaderå’ŒDataset"></a>1. Dataloaderå’ŒDataset</h4><h5 id="torch-utils-data-Dataloader"><a href="#torch-utils-data-Dataloader" class="headerlink" title="torch.utils.data.Dataloader"></a>torch.utils.data.Dataloader</h5><p>æ„å»ºå¯è¿­ä»£çš„æ•°æ®è£…è½½å™¨</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922133310174.png" alt="image-20210922133310174"></p>
<ul>
<li>datasetï¼šDatasetç±»ï¼Œå†³å®šæ•°æ®ä»å“ªè¯»å–åŠå¦‚ä½•è¯»å–</li>
<li>batchsizeï¼šæ‰¹å¤§å°</li>
<li>num_worksï¼šæ˜¯å¦å¤šè¿›ç¨‹è¯»å–æ•°æ®</li>
<li>shuffleï¼šæ¯ä¸ªepochæ˜¯å¦ä¹±åº</li>
<li>drop_lastï¼šå½“æ ·æœ¬æ•°ä¸èƒ½è¢«batchsizeæ•´é™¤æ—¶ï¼Œæ˜¯å¦èˆå¼ƒæœ€åä¸€æ‰¹æ•°æ®</li>
</ul>
<h5 id="torch-utils-data-Dataset"><a href="#torch-utils-data-Dataset" class="headerlink" title="torch.utils.data.Dataset"></a>torch.utils.data.Dataset</h5><p>DatasetæŠ½è±¡ç±»ï¼Œæ‰€æœ‰è‡ªå®šä¹‰çš„Datasetéœ€è¦ç»§æ‰¿å®ƒï¼Œå¹¶ä¸”å¤å†™__ getitem __( )</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922155733171.png" alt="image-20210922155733171"></p>
<p>getitem: æ¥å—ä¸€ä¸ªç´¢å¼•ï¼Œè¿”å›ä¸€ä¸ªæ ·æœ¬ã€‚</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922170343251.png" alt="image-20210922170343251"></p>
<h3 id="B-æ•°æ®é¢„å¤„ç†æ¨¡å—"><a href="#B-æ•°æ®é¢„å¤„ç†æ¨¡å—" class="headerlink" title="B. æ•°æ®é¢„å¤„ç†æ¨¡å—"></a>B. æ•°æ®é¢„å¤„ç†æ¨¡å—</h3><p><strong>torchvision</strong>ç®€ä»‹ï¼š</p>
<p>è®¡ç®—æœºè§†è§‰å·¥å…·åŒ…</p>
<ul>
<li>torchvision.transformsï¼šå¸¸ç”¨çš„å›¾åƒé¢„å¤„ç†æ–¹æ³•</li>
<li>torchvision.datasetï¼šå¸¸ç”¨æ•°æ®é›†çš„datasetå®ç°ï¼ŒMNISTï¼ŒCIFAR-10ï¼ŒImageNet</li>
<li>torchvision.modelï¼šå¸¸ç”¨çš„æ¨¡å‹é¢„è®­ç»ƒï¼ŒAlexNetï¼ŒVGGï¼ŒResNetï¼ŒGoogleLeNet</li>
</ul>
<h4 id="1-transformè¿è¡Œæœºåˆ¶"><a href="#1-transformè¿è¡Œæœºåˆ¶" class="headerlink" title="1.transformè¿è¡Œæœºåˆ¶"></a>1.transformè¿è¡Œæœºåˆ¶</h4><p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922171520294.png" alt="image-20210922171520294"></p>
<h5 id="transforms-Compose"><a href="#transforms-Compose" class="headerlink" title="transforms.Compose"></a>transforms.Compose</h5><p>å°†ä¸€ç³»åˆ—æ–¹æ³•è¿›è¡Œæœ‰åºçš„åŒ…è£…ï¼Œä¹‹åå®‰è£…é¡ºåºå¯¹æ•°æ®è¿›è¡Œå¤„ç†ã€‚</p>
<h5 id="transforms-Normalize"><a href="#transforms-Normalize" class="headerlink" title="transforms.Normalize"></a>transforms.Normalize</h5><p>é€channelçš„å¯¹å›¾åƒè¿›è¡Œæ ‡å‡†åŒ–</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922172839907.png" alt="image-20210922172839907"></p>
<p>output = (input - mean) / std</p>
<ul>
<li>meanï¼šå„é€šé“çš„å‡å€¼</li>
<li>stdï¼šå„é€šé“çš„æ ‡å‡†å·®</li>
<li>inplaceï¼šæ˜¯å¦åŸåœ°æ“ä½œ</li>
</ul>
<h4 id="2-æ•°æ®æ ‡å‡†åŒ–"><a href="#2-æ•°æ®æ ‡å‡†åŒ–" class="headerlink" title="2.æ•°æ®æ ‡å‡†åŒ–"></a>2.æ•°æ®æ ‡å‡†åŒ–</h4><h3 id="C-æ•°æ®å¢å¼º"><a href="#C-æ•°æ®å¢å¼º" class="headerlink" title="C. æ•°æ®å¢å¼º"></a>C. æ•°æ®å¢å¼º</h3><h4 id="1-transformsâ€”â€”å‰ªè£"><a href="#1-transformsâ€”â€”å‰ªè£" class="headerlink" title="1. transformsâ€”â€”å‰ªè£"></a>1. transformsâ€”â€”å‰ªè£</h4><h5 id="transforms-CenterCrop"><a href="#transforms-CenterCrop" class="headerlink" title="transforms.CenterCrop"></a>transforms.CenterCrop</h5><p>ä»å›¾åƒä¸­å¿ƒè£å‰ªå›¾ç‰‡</p>
<ul>
<li>sizeï¼šæ‰€éœ€è£å‰ªå›¾ç‰‡å°ºå¯¸</li>
</ul>
<h5 id="transforms-RandomCrop"><a href="#transforms-RandomCrop" class="headerlink" title="transforms.RandomCrop"></a>transforms.RandomCrop</h5><p>ä»å›¾ç‰‡ä¸­éšæœºè£å‰ªå°ºå¯¸ä¸ºsizeçš„å›¾ç‰‡</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922210309872.png" alt="image-20210922210309872"></p>
<ul>
<li>sizeï¼šæ‰€éœ€è£å‰ªå›¾ç‰‡å°ºå¯¸</li>
<li>paddingï¼šè®¾ç½®å¡«å……å¤§å°ã€‚å½“ä¸ºaæ—¶ï¼Œä¸Šä¸‹å·¦å³å‡å¡«å……aä¸ªåƒç´ ï¼›å½“ä¸ºï¼ˆaï¼Œbï¼‰æ—¶ï¼Œä¸Šä¸‹å¡«å……bä¸ªåƒç´ ï¼Œå·¦å³å¡«å……aä¸ªã€‚å½“ä¸ºï¼ˆaï¼Œbï¼Œcï¼Œdï¼‰æ—¶ï¼Œå·¦ï¼Œä¸Šï¼Œå³ï¼Œä¸‹åˆ†åˆ«å¡«å……aï¼Œbï¼Œcï¼Œdä¸ªåƒç´ ã€‚</li>
<li>pad_is_needï¼šè‹¥å›¾åƒå°äºè®¾å®šçš„sizeï¼Œåˆ™å¡«å……</li>
<li>padding_modeï¼šå››ç§å¡«å……æ¨¡å¼<ol>
<li>constantï¼šåƒç´ å€¼ç”±fillè®¾å®š</li>
<li>edgeï¼šåƒç´ å€¼ç”±å›¾åƒè¾¹ç¼˜åƒç´ å†³å®š</li>
<li>reflectï¼šé•œåƒå¡«å……ï¼Œæœ€åä¸€ä¸ªåƒç´ ä¸é•œåƒ[1, 2, 3, 4]â€”â€”&gt; [3,2,1,2,3,4,3,2]</li>
<li>symmetricï¼šé•œåƒå¡«å……ï¼Œæœ€åä¸€ä¸ªåƒç´ é•œåƒ[1, 2, 3, 4]â€”â€”&gt;[2,1,1,2,3,4,4,3]</li>
</ol>
</li>
<li>fillï¼šconstantæ—¶ï¼Œè®¾ç½®å¡«å……çš„åƒç´ å€¼</li>
</ul>
<h5 id="transforms-RandomResizeCrop"><a href="#transforms-RandomResizeCrop" class="headerlink" title="transforms.RandomResizeCrop"></a>transforms.RandomResizeCrop</h5><p>éšæœºå¤§å°ï¼Œé•¿å®½æ¯”è£å‰ªå›¾ç‰‡</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922211513888.png" alt="image-20210922211513888"></p>
<ul>
<li><p>sizeï¼šæ‰€éœ€è£å‰ªå›¾ç‰‡å°ºå¯¸</p>
</li>
<li><p>scaleï¼šéšå³è£å‰ªé¢ç§¯æ¯”ä¾‹ï¼Œé»˜è®¤ï¼ˆ0.08ï¼Œ1ï¼‰</p>
</li>
<li><p>ratioï¼šéšæœºé•¿å®½æ¯”ï¼Œé»˜è®¤ï¼ˆ3/4, 4/3ï¼‰</p>
</li>
<li><p>interpolationï¼šæ’å€¼æ–¹æ³• </p>
<p>PIL.Image.NEAREST</p>
<p>PIL.Image.BILINEAR</p>
<p>PIL.Image.BICUBIC</p>
</li>
</ul>
<h5 id="FiveCrop-TenCrop"><a href="#FiveCrop-TenCrop" class="headerlink" title="FiveCrop/TenCrop"></a>FiveCrop/TenCrop</h5><p>åœ¨å›¾ç‰‡çš„ä¸Šä¸‹å·¦å³ä»¥åŠä¸­å¿ƒè£å‰ªå‡ºå°ºå¯¸ä¸ºsizeçš„5å¼ å›¾ç‰‡ï¼ŒTenCropå¯¹è¿™5å¼ å›¾ç‰‡è¿›è¡Œæ°´å¹³æˆ–è€…å‚ç›´é•œåƒè·å¾—10å¼ å›¾ç‰‡</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922212510007.png" alt="image-20210922212510007"></p>
<p>sizeï¼šæ‰€éœ€è£å‰ªå›¾ç‰‡çš„å°ºå¯¸</p>
<p>vertical_flipï¼šæ˜¯å¦å‚ç›´ç¿»è½¬</p>
<h4 id="2-transformsâ€”â€”ç¿»è½¬ã€æ—‹è½¬"><a href="#2-transformsâ€”â€”ç¿»è½¬ã€æ—‹è½¬" class="headerlink" title="2. transformsâ€”â€”ç¿»è½¬ã€æ—‹è½¬"></a>2. transformsâ€”â€”ç¿»è½¬ã€æ—‹è½¬</h4><h5 id="transforms-RandomHorizontalFlip-VerticalFlip"><a href="#transforms-RandomHorizontalFlip-VerticalFlip" class="headerlink" title="transforms.RandomHorizontalFlip/VerticalFlip"></a>transforms.RandomHorizontalFlip/VerticalFlip</h5><p>ä¾æ¦‚ç‡æ°´å¹³ï¼ˆå·¦å³ï¼‰æˆ–å‚ç›´ï¼ˆä¸Šä¸‹ï¼‰ç¿»è½¬å›¾ç‰‡</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922213455329.png" alt="image-20210922213455329"></p>
<ul>
<li>pï¼šç¿»è½¬æ¦‚ç‡</li>
</ul>
<h5 id="transforms-RandomRotation"><a href="#transforms-RandomRotation" class="headerlink" title="transforms.RandomRotation"></a>transforms.RandomRotation</h5><p>éšæœºæ—‹è½¬å›¾ç‰‡</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922213841911.png" alt="image-20210922213841911"></p>
<ul>
<li>degreesï¼šæ—‹è½¬è§’åº¦ã€‚å½“ä¸ºaæ—¶ï¼Œåœ¨ï¼ˆ-aï¼Œaï¼‰ä¹‹é—´é€‰æ‹©æ—‹è½¬è§’åº¦ï¼›å½“ä¸ºï¼ˆaï¼Œbï¼‰æ—¶ï¼Œåœ¨ï¼ˆaï¼Œbï¼‰ä¹‹é—´é€‰æ‹©æ—‹è½¬è§’åº¦</li>
<li>resampleï¼šé‡é‡‡æ ·æ–¹æ³•</li>
<li>expandï¼šæ˜¯å¦æ‰©å¤§å›¾ç‰‡ï¼Œä»¥ä¿æŒåŸå›¾ä¿¡æ¯</li>
</ul>
<h4 id="3-transfromsâ€”â€”å›¾åƒå˜æ¢"><a href="#3-transfromsâ€”â€”å›¾åƒå˜æ¢" class="headerlink" title="3. transfromsâ€”â€”å›¾åƒå˜æ¢"></a>3. transfromsâ€”â€”å›¾åƒå˜æ¢</h4><h5 id="transforms-Pad"><a href="#transforms-Pad" class="headerlink" title="transforms.Pad"></a>transforms.Pad</h5><p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922215241192.png" alt="image-20210922215241192"></p>
<ul>
<li><p>paddingï¼šè®¾ç½®å¡«å……å¤§å°ã€‚å½“ä¸ºaæ—¶ï¼Œä¸Šä¸‹å·¦å³å‡å¡«å……aä¸ªåƒç´ ï¼›å½“ä¸ºï¼ˆaï¼Œbï¼‰æ—¶ï¼Œä¸Šä¸‹å¡«å……bä¸ªåƒç´ ï¼Œå·¦å³å¡«å……aä¸ªã€‚å½“ä¸ºï¼ˆaï¼Œbï¼Œcï¼Œdï¼‰æ—¶ï¼Œå·¦ï¼Œä¸Šï¼Œå³ï¼Œä¸‹åˆ†åˆ«å¡«å……aï¼Œbï¼Œcï¼Œdä¸ªåƒç´ ã€‚</p>
</li>
<li><p>padding_modeï¼šå››ç§å¡«å……æ¨¡å¼</p>
<ol>
<li>constantï¼šåƒç´ å€¼ç”±fillè®¾å®š</li>
<li>edgeï¼šåƒç´ å€¼ç”±å›¾åƒè¾¹ç¼˜åƒç´ å†³å®š</li>
<li>reflectï¼šé•œåƒå¡«å……ï¼Œæœ€åä¸€ä¸ªåƒç´ ä¸é•œåƒ[1, 2, 3, 4]â€”â€”&gt; [3,2,1,2,3,4,3,2]</li>
<li>symmetricï¼šé•œåƒå¡«å……ï¼Œæœ€åä¸€ä¸ªåƒç´ é•œåƒ[1, 2, 3, 4]â€”â€”&gt;[2,1,1,2,3,4,4,3]</li>
</ol>
</li>
<li><p>fillï¼šconstantæ—¶ï¼Œè®¾ç½®å¡«å……çš„åƒç´ å€¼</p>
</li>
</ul>
<h5 id="transforms-ColorJitter"><a href="#transforms-ColorJitter" class="headerlink" title="transforms.ColorJitter"></a>transforms.ColorJitter</h5><p>è°ƒæ•´äº®åº¦ï¼Œå¯¹æ¯”åº¦ï¼Œé¥±å’Œåº¦å’Œè‰²ç›¸</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922215447677.png" alt="image-20210922215447677"></p>
<ul>
<li>brightnessï¼šäº®åº¦è°ƒæ•´å‚æ•°ã€‚å½“ä¸ºaæ—¶ï¼Œä»[max(0, 1-a), 1+a]ä¸­éšæœºé€‰æ‹©ï¼Œå½“ä¸ºï¼ˆaï¼Œbï¼‰æ—¶ï¼Œä»[a, b]ä¸­é€‰æ‹©</li>
<li>contrastï¼šå¯¹æ¯”åº¦å‚æ•°ï¼ŒåŒä¸Š</li>
<li>saturationï¼šé¥±å’Œåº¦å‚æ•°ï¼ŒåŒä¸Š</li>
<li>hueï¼šè‰²ç›¸å‚æ•°ï¼Œå½“ä¸ºaæ—¶ï¼Œä»[-aï¼Œa]ä¸­é€‰æ‹©å‚æ•°ï¼ˆ0&lt;= a &lt;=0.5ï¼‰å½“ä¸ºï¼ˆaï¼Œbï¼‰æ—¶ï¼Œä»[a, b]ä¸­é€‰æ‹©å‚æ•°ï¼Œæ³¨ï¼š-0.5 &lt;= a &lt;= b &lt;= 0.5</li>
</ul>
<h5 id="transforms-Grayscale-RandomGrayscale"><a href="#transforms-Grayscale-RandomGrayscale" class="headerlink" title="transforms.Grayscale/RandomGrayscale"></a>transforms.Grayscale/RandomGrayscale</h5><p>ä¾æ®æ¦‚ç‡å°†å›¾ç‰‡è½¬æ¢ä¸ºç°åº¦å›¾</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922220031371.png" alt="image-20210922220031371"></p>
<ul>
<li>num_output_channelsï¼šè¾“å‡ºé€šé“æ•°åªèƒ½è®¾ç½®ä¸º1æˆ–3</li>
<li>pï¼šæ¦‚ç‡å€¼ï¼Œå›¾åƒè¢«è½¬æ¢ä¸ºç°åº¦å›¾çš„æ¦‚ç‡</li>
</ul>
<h5 id="transforms-RandomAffine"><a href="#transforms-RandomAffine" class="headerlink" title="transforms.RandomAffine"></a>transforms.RandomAffine</h5><p>å¯¹å›¾åƒè¿›è¡Œä»¿å°„å˜æ¢ï¼Œä»¿å°„å˜æ¢æ˜¯äºŒç»´çš„çº¿æ€§å˜æ¢ï¼Œç”±äº”ç§åŸºæœ¬åŸå­å˜æ¢æ„æˆï¼Œåˆ†åˆ«æ˜¯<strong>æ—‹è½¬</strong>ã€<strong>å¹³ç§»</strong>ã€<strong>ç¼©æ”¾</strong>ã€<strong>é”™åˆ‡</strong>å’Œ<strong>ç¿»è½¬</strong>ã€‚</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922220406992.png" alt="image-20210922220406992"></p>
<ul>
<li>degreesï¼šæ—‹è½¬è§’åº¦è®¾ç½®</li>
<li>translateï¼šå¹³ç§»åŒºé—´è®¾ç½®ï¼Œå¦‚ï¼ˆaï¼Œbï¼‰ï¼Œaè®¾ç½®å®½ï¼ˆwidthï¼‰ï¼Œbè®¾ç½®é«˜ï¼ˆheightï¼‰ã€‚å›¾åƒåœ¨å®½ç»´åº¦å¹³ç§»çš„åŒºé—´ä¸º-img_width* a &lt; dx &lt;img_width * a</li>
<li>scaleï¼šç¼©æ”¾æ¯”ä¾‹ï¼ˆä»¥é¢ç§¯ä¸ºå•ä½ï¼‰</li>
<li>fill_colorï¼šå¡«å……é¢œè‰²è®¾ç½®</li>
<li>shearï¼šé”™åˆ‡è§’åº¦è®¾ç½®ï¼Œæœ‰æ°´å¹³é”™åˆ‡å’Œå‚ç›´é”™åˆ‡ã€‚è‹¥ä¸ºaï¼Œåˆ™ä»…åœ¨xè½´é”™åˆ‡ï¼Œé”™åˆ‡è§’åº¦åœ¨ï¼ˆ-aï¼Œaï¼‰ä¹‹é—´ï¼›è‹¥ä¸ºï¼ˆaï¼Œbï¼‰ï¼Œåˆ™aè®¾ç½®xè½´è§’åº¦ï¼Œbè®¾ç½®yçš„è§’åº¦ã€‚è‹¥ä¸ºï¼ˆaï¼Œbï¼Œcï¼Œdï¼‰ï¼Œåˆ™aï¼Œbè®¾ç½®xè½´è§’åº¦ï¼Œcï¼Œdè®¾ç½®yè½´è§’åº¦</li>
<li>resampleï¼šé‡é‡‡æ ·æ–¹å¼ï¼Œç”¨NEARESTï¼ŒBILINEARï¼ŒBICUBIC</li>
</ul>
<h5 id="transforms-RandomErasing"><a href="#transforms-RandomErasing" class="headerlink" title="transforms.RandomErasing"></a>transforms.RandomErasing</h5><p>å¯¹å›¾åƒè¿›è¡Œéšæœºé®æŒ¡</p>
<ul>
<li>pï¼šæ¦‚ç‡å€¼ï¼Œæ‰§è¡Œè¯¥æ“ä½œçš„æ¦‚ç‡</li>
<li>scaleï¼šé®æŒ¡åŒºåŸŸçš„é¢ç§¯</li>
<li>ratioï¼šé®æŒ¡åŒºåŸŸé•¿å®½æ¯”</li>
<li>valueï¼šè®¾ç½®é®æŒ¡åŒºåŸŸçš„åƒç´ å€¼ï¼ˆRï¼ŒGï¼ŒBï¼‰orï¼ˆGrayï¼‰,æˆ–è€…ä»»æ„å­—ç¬¦ä¸²ï¼ˆåˆ™å¡«å…¥éšæœºåƒç´ å€¼ï¼Œè¿˜æŒºå¥½çœ‹ï¼‰</li>
</ul>
<h5 id="transforms-Lambda"><a href="#transforms-Lambda" class="headerlink" title="transforms.Lambda"></a>transforms.Lambda</h5><p>ç”¨æˆ·è‡ªå®šä¹‰lambdaæ–¹æ³•</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922221913501.png" alt="image-20210922221913501"></p>
<ul>
<li><p>lambdaï¼šlambdaåŒ¿åå‡½æ•°</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922222014416.png" alt="image-20210922222014416"></p>
</li>
</ul>
<h4 id="4-transformsé€‰æ‹©æ“ä½œ"><a href="#4-transformsé€‰æ‹©æ“ä½œ" class="headerlink" title="4. transformsé€‰æ‹©æ“ä½œ"></a>4. transformsé€‰æ‹©æ“ä½œ</h4><h5 id="transforms-RandomChoice"><a href="#transforms-RandomChoice" class="headerlink" title="transforms.RandomChoice"></a>transforms.RandomChoice</h5><p>ä¸€ç»„transformsæ–¹æ³•ä¸­æ¯æ¬¡éšæœºæŒ‘é€‰ä¸€ä¸ª</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922222201258.png" alt="image-20210922222201258"></p>
<h5 id="transforms-RandomApply"><a href="#transforms-RandomApply" class="headerlink" title="transforms.RandomApply"></a>transforms.RandomApply</h5><p>ä¾æ®æ¦‚ç‡æ‰§è¡Œä¸€ç»„transformsæ“ä½œ</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922222233010.png" alt="image-20210922222233010"></p>
<h5 id="transforms-RandomOrder"><a href="#transforms-RandomOrder" class="headerlink" title="transforms.RandomOrder"></a>transforms.RandomOrder</h5><p>å¯¹ä¸€ç»„transformsæ“ä½œæ‰“ä¹±é¡ºåº</p>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922222310180.png" alt="image-20210922222310180"></p>
<h4 id="5-è‡ªå®šä¹‰transforms"><a href="#5-è‡ªå®šä¹‰transforms" class="headerlink" title="5. è‡ªå®šä¹‰transforms"></a>5. è‡ªå®šä¹‰transforms</h4><p>è‡ªå®šä¹‰transformsè¦ç´ ï¼š</p>
<ul>
<li>ä»…æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå‚æ•°</li>
<li>æ³¨æ„ä¸Šæ¸¸å’Œä¸‹æ¸¸çš„æ“ä½œ</li>
</ul>
<p><img src="/2021/09/26/PyTorch-DataProcess-Dataset/image-20210922222513169.png" alt="image-20210922222513169"></p>
<h5 id="æ¤’ç›å™ªå£°"><a href="#æ¤’ç›å™ªå£°" class="headerlink" title="æ¤’ç›å™ªå£°"></a>æ¤’ç›å™ªå£°</h5><p>æ¤’ç›å™ªå£°åˆç§°è„‰å†²å™ªå£°ï¼Œæ˜¯ä¸€ç§éšæœºå‡ºç°çš„ç™½ç‚¹æˆ–è€…é»‘ç‚¹ï¼Œç™½ç‚¹ç§°ä¸ºç›å™ªå£°ï¼Œé»‘ç‚¹ç§°ä¸ºæ¤’å™ªå£°</p>
<p><strong>ä¿¡å™ªæ¯”ï¼ˆSignal-Noise Rateï¼ŒSNRï¼‰</strong>ï¼šè¡¡é‡å™ªå£°çš„æ¯”ä¾‹ã€‚</p>
<h4 id="6-æ•°æ®å¢å¼ºæ€æƒ³"><a href="#6-æ•°æ®å¢å¼ºæ€æƒ³" class="headerlink" title="6. æ•°æ®å¢å¼ºæ€æƒ³"></a>6. æ•°æ®å¢å¼ºæ€æƒ³</h4><p>åŸåˆ™ï¼šè®©è®­ç»ƒé›†ä¸æµ‹è¯•é›†æ›´æ¥è¿‘</p>
<ul>
<li><strong>ç©ºé—´ä½ç½®</strong>ï¼šå¹³ç§»</li>
<li><strong>è‰²å½©</strong>ï¼šç°åº¦å›¾ï¼Œè‰²å½©æŠ–åŠ¨</li>
<li><strong>å½¢çŠ¶</strong>ï¼šä»¿å°„å˜æ¢</li>
<li><strong>ä¸Šä¸‹æ–‡åœºæ™¯</strong>ï¼šé®æŒ¡ï¼Œå¡«å……</li>
</ul>
]]></content>
      <categories>
        <category>PyTorchæ¡†æ¶å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>PyTorch</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨éšæœºæ¢¯åº¦ä¸‹é™æ¥ä¼˜åŒ–äººç”Ÿ</title>
    <url>/2021/09/27/limu-SGD/</url>
    <content><![CDATA[<p>ä½œè€…ï¼šææ² | æ¥æºï¼šçŸ¥ä¹</p>
<p><strong>è¦æœ‰ç›®æ ‡</strong>ã€‚ä½ éœ€è¦æœ‰ç›®æ ‡ã€‚çŸ­çš„ä¹Ÿå¥½ï¼Œé•¿çš„ä¹Ÿå¥½ã€‚è®¤çœŸå®šä¸‹çš„ä¹Ÿå¥½ï¼Œåˆ«äººé‚£é‡Œæ¡çš„ä¹Ÿå¥½ã€‚å°±è·Ÿéšæœºæ¢¯åº¦ä¸‹é™éœ€è¦æœ‰ä¸ªç›®æ ‡å‡½æ•°ä¸€æ ·ã€‚</p>
<p><strong>ç›®æ ‡è¦å¤§</strong>ã€‚ä¸ç®¡æ˜¯äººç”Ÿç›®æ ‡è¿˜æ˜¯ç›®æ ‡å‡½æ•°ï¼Œä½ æœ€å¥½ä¸è¦çŸ¥é“æœ€åå¯ä»¥èµ°åˆ°å“ªé‡Œã€‚å¦‚æœä½ çŸ¥é“ï¼Œé‚£ä¹ˆä½ çš„ç›®æ ‡å°±å¤ªç®€å•äº†ï¼Œå¯èƒ½æ˜¯ä¸ªå‡¸å‡½æ•°ã€‚ä½ å¯ä»¥åœ¨ä¸€å¼€å§‹çš„æ—¶å€™ç»™è‡ªå·±ä¸€äº›å°ç›®æ ‡ï¼Œä¾‹å¦‚æœŸæœ«è€ƒä¸ª80åˆ†ï¼Œè®­ç»ƒä¸€ä¸ªçº¿æ€§æ¨¡å‹ã€‚ä½†æ¥ä¸‹æ¥å¾—æœ‰æ›´å¤§çš„ç›®æ ‡ï¼Œè´¢å¯Œè‡ªç”±ä¹Ÿå¥½ï¼Œ100äº¿å‚æ•°çš„å˜å½¢é‡‘åˆšä¹Ÿå¥½ï¼Œå¾—è¶³å¤Ÿä¸€é¢—èµ›è‰‡ã€‚</p>
<p><strong>åšæŒèµ°</strong>ã€‚ä¸ç®¡ä½ çš„ç›®æ ‡å¤šå¤æ‚ï¼Œéšæœºæ¢¯åº¦ä¸‹é™éƒ½æ˜¯æœ€ç®€å•çš„ã€‚æ¯ä¸€æ¬¡ä½ æ‰¾ä¸€ä¸ªå¤§æ¦‚è¿˜è¡Œçš„æ–¹å‘ï¼ˆæ¢¯åº¦ï¼‰ï¼Œç„¶åè¿ˆä¸€æ­¥ï¼ˆä¸‹é™ï¼‰ã€‚ä¸¤ä¸ªæ ¸å¿ƒè¦ç´ æ˜¯æ–¹å‘å’Œæ­¥å­çš„é•¿çŸ­ã€‚ä½†æœ€é‡è¦çš„æ˜¯ä½ å¾—ä¸€ç›´èµ°ä¸‹å»ï¼Œèƒ½å¤šèµ°å‡ æ­¥å°±å¤šèµ°å‡ æ­¥ã€‚</p>
<p><strong>ç—›è‹¦çš„å·</strong>ã€‚æ¯ä¸€æ­¥é‡Œä½ éƒ½åœ¨è¯•å›¾æ”¹å˜ä½ è‡ªå·±æˆ–è€…ä½ çš„æ¨¡å‹å‚æ•°ã€‚æ”¹å˜å¸¦æ¥ç—›è‹¦ã€‚ä½†æ²¡æœ‰æ”¹å˜å°±æ²¡æœ‰è¿›æ­¥ã€‚ä½ è¿‡å¾—å¾ˆç—›è‹¦ä¸ä»£è¡¨åœ¨æœç€ç›®æ ‡èµ°ï¼Œå› ä¸ºä½ å¯èƒ½èµ°åäº†ã€‚ä½†è¿‡å¾—å¾ˆèˆ’æœé‚£ä¸€å®šåœ¨åŸåœ°è¸æ­¥ã€‚éœ€è¦æ—¶åˆ»è·Ÿè‡ªå·±ä½œå¯¹ã€‚</p>
<p><strong>å¯ä»¥èººå¹³</strong>ã€‚ä½ ç”¨ä½ å†…å¿ƒçš„æ¿€æƒ…æ¥è¿ˆæ­¥å­ã€‚æ­¥å­å¤ªå°èµ°ä¸åŠ¨ï¼Œæ­¥å­å¤ªé•¿å®¹æ˜“è¿‡æ—©æ¶ˆè€—æ‰äº†æ¿€æƒ…ã€‚å‘¨æœŸæ€§çš„è°ƒå¤§è°ƒå°æ­¥é•¿æ•ˆæœæŒºå¥½ã€‚æ‰€ä»¥ä½ å¯ä»¥æ—¶ä¸æ—¶ä¼‘æ¯ä¼‘æ¯ã€‚</p>
<p><strong>å››å¤„çœ‹çœ‹</strong>ã€‚æ¯ä¸€æ­¥èµ°çš„æ–¹å‘æ˜¯ä½ å¯¹ä¸–ç•Œçš„è®¤è¯†ã€‚å¦‚æœä½ æ¢ç´¢çš„ä¸–ç•Œä¸æ€ä¹ˆå˜åŒ–ï¼Œé‚£ä¹ˆè¦ä¹ˆä½ çš„ç›®æ ‡å¤ªç®€å•ï¼Œè¦ä¹ˆä½ å›°åœ¨ä½ çš„èˆ’é€‚åŒºäº†ã€‚éšæœºæ¢¯åº¦ä¸‹é™çš„ç¬¬ä¸€ä¸ªè¯æ˜¯éšæœºï¼Œå°±æ˜¯ä½ éœ€è¦å››å¤„èµ°èµ°ï¼Œçœ‹è¿‡å¾ˆå¤šåœ°æ–¹ï¼Œåšäº›é”™è¯¯çš„å†³å®šï¼Œè¿™æ ·ä½ å¯ä»¥åœ¨å‰æœŸè¿ˆè¿‡ä¸€äº›ä¸æ˜¯å¾ˆå¥½çš„èˆ’é€‚åŒºã€‚</p>
<p><strong>å¿«ä¹Ÿæ˜¯æ…¢</strong>ã€‚ä½ æ²¡æœ‰å¿…è¦ç‰¹æ„å»è¿½æ±‚æ‰¾åˆ°æœ€å¥½çš„æ–¹å‘å’Œæœ€åˆé€‚çš„æ­¥å­ã€‚ä½ èº«è¾¹å½“ç„¶ä¼šæœ‰å¹¸è¿ä¹‹å­ï¼Œä»–ä»¬æ¯ä¸€æ­¥éƒ½åœ¨åˆ«äººå‰é¢ã€‚ä½†ç»éªŒå‘Šè¯‰æˆ‘ä»¬ï¼Œéšæœºæ¢¯åº¦ä¸‹é™å‰æœŸè¿›åº¦å¤ªå¿«ï¼ŒåæœŸå¯èƒ½ä¹åŠ›ã€‚å°±æ˜¯è¯´ä½ è¿‡æ—©çš„æ‰¾åˆ°ä¸€ä¸ªèˆ’é€‚åŒºï¼Œå¿˜äº†ä¸–ç•Œæœ‰å¤šå¤§ã€‚æ‰€ä»¥ä½ ä¸è¦æ€¥ï¼Œå‰é¢å¾˜å¾Šä¸€æ®µæ—¶é—´ä¸æ˜¯åäº‹ã€‚æˆåæ— éœ€å¤ªæ—©ã€‚</p>
<p><strong>èµ¢åœ¨èµ·ç‚¹</strong>ã€‚èµ·ç‚¹å½“ç„¶é‡è¦ã€‚å¦‚æœä½ åœ¨ç»ˆç‚¹é™„è¿‘èµ·æ­¥ï¼Œå¯ä»¥å°‘èµ°å¾ˆå¤šè·¯ã€‚è€Œä¸”ç»ˆç‚¹é™„è¿‘çš„è·¯éƒ½æ¯”è¾ƒå¹³ï¼Œèµ°ç€èˆ’æœã€‚å½“ä½ å‘ç°åˆ«äººä¸å¦‚ä½ çš„æ—¶å€™ï¼Œçœ‹çœ‹è‡ªå·±ç«™åœ¨å“ªé‡Œã€‚å¯èƒ½ä½ å°±æ˜¯è¿æ°”å¾ˆå¥½ï¼Œèµ¢åœ¨äº†èµ·è·‘çº¿ã€‚å¦‚æœä½ è·Ÿåˆ«äººåœ¨åŒä¸€èµ·è·‘çº¿ï¼Œä¸è§å¾—ä½ èƒ½åšæ›´å¥½ã€‚</p>
<p><strong>å¾ˆè¿œä¹Ÿèƒ½åˆ°è¾¾</strong>ã€‚å¦‚æœä½ æ˜¯åœ¨éšæœºèµ·ç‚¹ï¼Œé‚£ä¹ˆåšå¥½å‡†å¤‡å‰é¢çš„è·¯ä¼šéå¸¸ä¸å¹³å¦ã€‚è¶Šè¿œç¦»ç»ˆç‚¹ï¼Œè¶Šäººè¿¹ç½•è§ã€‚å››å¤„éƒ½æ˜¯æ‚¬å´–ã€‚ä½†éšæœºæ¢¯åº¦ä¸‹é™å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸ç®¡èµ·ç‚¹åœ¨å“ªé‡Œï¼Œæœ€åå¾—åˆ°çš„è§£éƒ½å·®ä¸å¤šã€‚å½“ç„¶è¿™ä¸ªå‰ææ˜¯ä½ å¾—ä¸€ç›´æŒ‰ç…§æ¢¯åº¦çš„æ–¹å‘èµ°ä¸‹å»ã€‚å¦‚æœä¸­é—´æ¢¯åº¦ç‚¸æ‰äº†ï¼Œé‚£ä¹ˆä½ éšæœºä¸€ä¸ªèµ·ç‚¹ï¼Œè°ƒæ•´æ­¥å­èŠ‚å¥ï¼Œé‡æ–°æ¥ã€‚</p>
<p><strong>ç‹¬ä¸€æ— äºŒ</strong>ã€‚ä¹Ÿè®¸å¤§å®¶æœ‰ç€å·®ä¸å¤šçš„ç›®æ ‡ï¼Œåœ¨å·®ä¸å¤šçš„æ—¶é—´æ¯•ä¸šä¹°æˆ¿ç»“å©šç”Ÿå¨ƒã€‚ä½†æ¯ä¸€æ­¥é‡Œï¼Œæ¯ä¸ªäººå†…å¿ƒä¸­çœ‹åˆ°çš„ä¸–ç•Œéƒ½ä¸ä¸€æ ·ï¼Œå¯¼è‡´èµ°çš„è·¯ä¸ä¸€æ ·ã€‚ä½ å¦‚æœè·‘å¤šæ¬¡éšæœºæ¢¯åº¦ä¸‹é™ï¼Œåœ¨å„ä¸ªæ—¶é—´ç‚¹çš„ç›®æ ‡å‡½æ•°å€¼å¯èƒ½éƒ½å·®ä¸å¤šï¼Œä½†æ¯æ¬¡çš„å‚æ•°åƒå·®ä¸‡åˆ«ã€‚ä¸ä¼šæœ‰äººå…³å¿ƒä½ æ¯æ¬¡è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹é‡Œé¢å‚æ•°å…·ä½“æ˜¯ä»€ä¹ˆå€¼ï¼Œé™¤äº†ä½ è‡ªå·±ã€‚</p>
<p><strong>ç®€å•æœ€å¥½</strong> ã€‚å½“ç„¶æœ‰æ¯”éšæœºæ¢¯åº¦ä¸‹é™æ›´å¤æ‚çš„ç®—æ³•ã€‚ä»–ä»¬æƒ³æ¯ä¸€æ­¥çœ‹æƒ³æ›´è¿œæ›´å‡†ï¼Œæƒ³æ­¥å­è¿ˆæœ€å¤§ã€‚ä½†å¦‚æœä½ çš„ç›®æ ‡å¾ˆå¤æ‚ï¼Œç®€å•çš„éšæœºæ¢¯åº¦ä¸‹é™åè€Œæ•ˆæœæœ€å¥½ã€‚æ·±åº¦å­¦ä¹ é‡Œå¤§å®¶éƒ½ç”¨å®ƒã€‚å…³æ³¨å½“å‰ï¼Œæ¯æ¬¡æŠ¬å¤´ç„ä¸€çœ¼ä¸–ç•Œï¼Œå¿«é€Ÿåšä¸ªå†³å®šï¼Œç„¶åè¿ˆä¸€å°æ­¥ã€‚å°æ­¥å¿«è·‘ã€‚åªè¦ä½ æœ‰ç›®æ ‡ï¼Œä¸è¦åœï¼Œå°±èƒ½åˆ°è¾¾ã€‚</p>
]]></content>
      <categories>
        <category>æ‚æ–‡</category>
      </categories>
      <tags>
        <tag>æ‚æ–‡</tag>
      </tags>
  </entry>
</search>
